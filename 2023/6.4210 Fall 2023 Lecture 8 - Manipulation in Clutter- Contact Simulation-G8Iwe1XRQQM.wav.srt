1
00:00:00,000 --> 00:00:05,000
 All right, welcome back, everybody.

2
00:00:05,000 --> 00:00:07,680
 We're starting the next phase here of our journey.

3
00:00:07,680 --> 00:00:09,240
 We're going to start transitioning

4
00:00:09,240 --> 00:00:11,040
 into manipulation in Clutter.

5
00:00:11,040 --> 00:00:12,600
 And I'll tell you the implications

6
00:00:12,600 --> 00:00:14,360
 of that in the next slide.

7
00:00:14,360 --> 00:00:16,680
 Quick admin announcements.

8
00:00:16,680 --> 00:00:20,000
 So we're getting closer to where we're

9
00:00:20,000 --> 00:00:21,420
 going to start defining projects.

10
00:00:21,420 --> 00:00:24,920
 And you'll have a project pre-proposal first,

11
00:00:24,920 --> 00:00:28,080
 where some people submit the pre-proposal, get a rubber

12
00:00:28,080 --> 00:00:30,040
 stamp, and then they're good.

13
00:00:30,040 --> 00:00:31,420
 But the pre-proposal is a chance,

14
00:00:31,420 --> 00:00:33,040
 if you haven't already, to give us

15
00:00:33,040 --> 00:00:35,520
 a draft of what you're thinking and get some feedback

16
00:00:35,520 --> 00:00:38,920
 before we lock it in with a more final proposal.

17
00:00:38,920 --> 00:00:41,280
 So the first pre-proposal is due on October 20,

18
00:00:41,280 --> 00:00:43,080
 which seems like infinitely far away,

19
00:00:43,080 --> 00:00:44,760
 but it'll be here before you know it.

20
00:00:44,760 --> 00:00:47,280
 So start thinking about who your project groups are.

21
00:00:47,280 --> 00:00:51,560
 If you're in CIM and you look around your CIM recitation,

22
00:00:51,560 --> 00:00:54,760
 that's the ideal setting for all the CIM content.

23
00:00:54,760 --> 00:00:57,900
 To have a group inside one recitation is ideal.

24
00:00:57,900 --> 00:01:01,600
 Not required, but ideal.

25
00:01:01,600 --> 00:01:04,720
 And if you want feedback from us beforehand, some of you

26
00:01:04,720 --> 00:01:07,520
 have been coming up and asking after class, which is great.

27
00:01:07,520 --> 00:01:09,280
 Sometimes-- actually, today is the one day

28
00:01:09,280 --> 00:01:10,840
 I have to leave right after class.

29
00:01:10,840 --> 00:01:13,360
 But almost always, I'm here after class.

30
00:01:13,360 --> 00:01:15,200
 And then-- just a second--

31
00:01:15,200 --> 00:01:18,120
 or even I'll come early before class if you want to talk,

32
00:01:18,120 --> 00:01:20,480
 or send me an email, or send the staff an email.

33
00:01:20,480 --> 00:01:22,560
 We'll definitely-- this is a good time to be just

34
00:01:22,560 --> 00:01:23,480
 throwing ideas off us.

35
00:01:23,480 --> 00:01:27,320
 [INAUDIBLE]

36
00:01:27,320 --> 00:01:28,080
 No, sorry.

37
00:01:28,080 --> 00:01:29,820
 It definitely does not need to be a novel.

38
00:01:29,820 --> 00:01:32,160
 The rubrics for the project are on the website.

39
00:01:32,160 --> 00:01:35,680
 As we get a little bit closer still, I'll go over that.

40
00:01:35,680 --> 00:01:38,560
 But absolutely, finding a paper and reproducing it

41
00:01:38,560 --> 00:01:42,320
 and understanding it is great.

42
00:01:42,320 --> 00:01:44,440
 But the partnering is what we wanted

43
00:01:44,440 --> 00:01:45,600
 to at least put in your head.

44
00:01:45,600 --> 00:01:46,100
 Yes?

45
00:01:46,100 --> 00:01:49,160
 [INAUDIBLE]

46
00:01:49,160 --> 00:01:50,760
 Yeah, so one is fine.

47
00:01:50,760 --> 00:01:51,880
 You can work by yourself.

48
00:01:51,880 --> 00:01:53,640
 That's great.

49
00:01:53,640 --> 00:01:54,880
 Two or three is great.

50
00:01:54,880 --> 00:01:57,960
 I think more than three starts to get harder.

51
00:01:57,960 --> 00:02:00,120
 So we normally say two or three is ideal for a group.

52
00:02:00,120 --> 00:02:05,920
 Great, and you've already been looking a little bit

53
00:02:05,920 --> 00:02:08,120
 at the projects from last year, so you have a sense.

54
00:02:08,120 --> 00:02:11,760
 But you're not going to feel restricted to robots

55
00:02:11,760 --> 00:02:13,160
 on a table this year, because we're

56
00:02:13,160 --> 00:02:15,720
 going to have a lecture right before your pre-proposals are

57
00:02:15,720 --> 00:02:18,880
 due with mobile robots doing all kinds of stuff.

58
00:02:18,880 --> 00:02:21,600
 Assuming I can get mobile robots to do all kinds of stuff

59
00:02:21,600 --> 00:02:24,800
 in simulation in time, hopefully.

60
00:02:24,800 --> 00:02:31,000
 OK, so let me just sort of step back for a second

61
00:02:31,000 --> 00:02:33,000
 and just think about what have we done so far

62
00:02:33,000 --> 00:02:36,160
 and why are we going to do this next.

63
00:02:36,160 --> 00:02:37,760
 Remember, I tried to tell you that I've

64
00:02:37,760 --> 00:02:39,720
 tried to organize the course.

65
00:02:39,720 --> 00:02:41,240
 We basically now have established

66
00:02:41,240 --> 00:02:43,120
 a very basic capability, and now we're

67
00:02:43,120 --> 00:02:46,700
 going to try to address the things that were limitations

68
00:02:46,700 --> 00:02:48,280
 of our previous approaches.

69
00:02:48,280 --> 00:02:51,280
 So we started with a quick lecture on hardware basics

70
00:02:51,280 --> 00:02:54,720
 just to help you appreciate what we're

71
00:02:54,720 --> 00:02:57,040
 commanding and controlling.

72
00:02:57,040 --> 00:02:59,360
 And then we talked about the basic pick and place

73
00:02:59,360 --> 00:03:02,600
 where we assumed the known pose was given to us,

74
00:03:02,600 --> 00:03:04,200
 and we assumed we knew the object,

75
00:03:04,200 --> 00:03:08,200
 because we had to pick the grasp relative to the object model.

76
00:03:08,200 --> 00:03:10,500
 And then we were able to do kinematics and Jacobian-based

77
00:03:10,500 --> 00:03:16,520
 control to do a full manipulation task,

78
00:03:16,520 --> 00:03:19,200
 but with some big assumptions.

79
00:03:19,200 --> 00:03:21,280
 And then last time, last week, we

80
00:03:21,280 --> 00:03:22,720
 talked about geometric perception,

81
00:03:22,720 --> 00:03:25,800
 which was the entry-level perception, which

82
00:03:25,800 --> 00:03:29,480
 if we have a model of the mustard bottle, for instance,

83
00:03:29,480 --> 00:03:31,360
 and you see a mustard bottle in the world,

84
00:03:31,360 --> 00:03:34,480
 we can use ICP and the variants, and some

85
00:03:34,480 --> 00:03:39,840
 of the important variants, to try to estimate the pose.

86
00:03:39,840 --> 00:03:42,080
 That removed the biggest assumption, I would say,

87
00:03:42,080 --> 00:03:45,400
 of assuming someone knew a priori where the pose was,

88
00:03:45,400 --> 00:03:47,960
 and we brought in a little bit of perception.

89
00:03:47,960 --> 00:03:51,400
 But that pipeline was still assuming a lot.

90
00:03:51,400 --> 00:03:57,920
 So in particular, the known object appears a lot there.

91
00:03:57,920 --> 00:03:59,720
 We assumed we knew the objects.

92
00:03:59,720 --> 00:04:02,720
 We want to do more complex scenes with many objects

93
00:04:02,720 --> 00:04:06,060
 and more diverse objects, where potentially you don't even

94
00:04:06,060 --> 00:04:08,240
 have a chance of knowing a perfect model of the object

95
00:04:08,240 --> 00:04:09,320
 we're manipulating.

96
00:04:09,320 --> 00:04:11,040
 And that's going to change the requirements

97
00:04:11,040 --> 00:04:16,160
 on both the control and planning stack and the perception stack.

98
00:04:16,160 --> 00:04:20,880
 But to start into that, we can still just say,

99
00:04:20,880 --> 00:04:22,420
 we're going to do a basic sort of pick

100
00:04:22,420 --> 00:04:23,680
 and place kind of operation.

101
00:04:23,680 --> 00:04:25,560
 I want you to think, by the end of the course,

102
00:04:25,560 --> 00:04:28,000
 of manipulation as way more than pick and place.

103
00:04:28,000 --> 00:04:30,000
 We do-- like tying shoelaces, I think,

104
00:04:30,000 --> 00:04:32,060
 is a better example of what manipulation

105
00:04:32,060 --> 00:04:34,720
 is than pick and place, even though a lot of robots

106
00:04:34,720 --> 00:04:37,520
 do pick and place.

107
00:04:37,520 --> 00:04:42,960
 So as kind of a way to structure that, our next sort of task

108
00:04:42,960 --> 00:04:46,760
 is based around this idea of building a little clutter

109
00:04:46,760 --> 00:04:48,440
 clearing station.

110
00:04:48,440 --> 00:04:54,000
 So we did this in the early days of the manipulation team

111
00:04:54,000 --> 00:04:54,920
 at TRI.

112
00:04:54,920 --> 00:04:58,480
 And the reason for it was because this

113
00:04:58,480 --> 00:05:01,400
 was just at the dawn of deep learning solving a lot

114
00:05:01,400 --> 00:05:03,360
 of computer vision problems.

115
00:05:03,360 --> 00:05:08,640
 And still today, but today we are more often

116
00:05:08,640 --> 00:05:11,640
 using pre-trained models than back then.

117
00:05:11,640 --> 00:05:13,600
 We really needed to generate a lot of data

118
00:05:13,600 --> 00:05:17,560
 and a lot of diverse data of robots' hands

119
00:05:17,560 --> 00:05:22,160
 around novel objects in both sim and in real.

120
00:05:22,160 --> 00:05:25,760
 So we just devised this very simple--

121
00:05:25,760 --> 00:05:28,160
 and other people have definitely done this too--

122
00:05:28,160 --> 00:05:29,820
 simple setup where you have two bins.

123
00:05:29,820 --> 00:05:32,280
 And their job is just to pick all the stuff from the one bin

124
00:05:32,280 --> 00:05:34,760
 and drop it in the other bin.

125
00:05:34,760 --> 00:05:39,000
 But we assume nothing about the objects in there.

126
00:05:39,000 --> 00:05:41,440
 And in general, we just threw whatever objects we wanted

127
00:05:41,440 --> 00:05:42,320
 into the bin.

128
00:05:42,320 --> 00:05:44,440
 And we got a lot of diversity from that.

129
00:05:44,440 --> 00:05:45,840
 If you watch this closely enough,

130
00:05:45,840 --> 00:05:47,360
 you'll see it's mostly pick and place.

131
00:05:47,360 --> 00:05:48,940
 But this system got to the point where

132
00:05:48,940 --> 00:05:50,720
 we could do some more subtle things.

133
00:05:50,720 --> 00:05:53,680
 Like I bet-- OK, there's a banana still.

134
00:05:53,680 --> 00:05:56,040
 But I bet to get the pillbox out of the corner,

135
00:05:56,040 --> 00:05:58,480
 it's going to go in and do--

136
00:05:58,480 --> 00:06:00,880
 it can't grasp that probably in first shot.

137
00:06:00,880 --> 00:06:06,960
 I think it just ended.

138
00:06:06,960 --> 00:06:07,880
 Am I that unlucky?

139
00:06:07,880 --> 00:06:10,200
 Like the whole video was playing for a minute and a half.

140
00:06:10,200 --> 00:06:11,960
 And as soon as I say something, it stops.

141
00:06:11,960 --> 00:06:12,460
 Yeah?

142
00:06:12,460 --> 00:06:18,440
 Yeah, it turns to [INAUDIBLE]

143
00:06:18,440 --> 00:06:19,120
 Ah, yeah, yeah.

144
00:06:19,120 --> 00:06:22,120
 So yeah, OK, it's possible that it missed that one.

145
00:06:22,120 --> 00:06:24,720
 Or that it was occluded or something like that.

146
00:06:24,720 --> 00:06:26,200
 Good eye, though.

147
00:06:26,200 --> 00:06:28,160
 He says it didn't move the pill bottle.

148
00:06:28,160 --> 00:06:29,680
 Skipped it.

149
00:06:29,680 --> 00:06:32,640
 There's also-- there's a little rubber duck that has like--

150
00:06:32,640 --> 00:06:35,040
 looks like Spock from Star Trek.

151
00:06:35,040 --> 00:06:36,640
 And I don't know.

152
00:06:36,640 --> 00:06:38,040
 It always ended up on the floor.

153
00:06:38,040 --> 00:06:38,600
 I don't know.

154
00:06:38,600 --> 00:06:40,180
 There was no-- you know, it was just

155
00:06:40,180 --> 00:06:41,640
 supposed to do this, but it seemed

156
00:06:41,640 --> 00:06:43,360
 like with high probability, it would

157
00:06:43,360 --> 00:06:46,720
 throw Spock onto the floor.

158
00:06:46,720 --> 00:06:48,680
 It must have been something about the geometry

159
00:06:48,680 --> 00:06:51,280
 or the compliance or something.

160
00:06:51,280 --> 00:06:54,400
 But I thought it was hilarious.

161
00:06:54,400 --> 00:06:58,960
 OK, so of course, we can do this in simulation too.

162
00:06:58,960 --> 00:07:00,960
 So this is my little--

163
00:07:00,960 --> 00:07:01,600
 let's see.

164
00:07:01,600 --> 00:07:02,160
 Look at that.

165
00:07:02,160 --> 00:07:04,920
 I haven't started it.

166
00:07:04,920 --> 00:07:06,040
 Not from the beginning here.

167
00:07:06,040 --> 00:07:09,400
 OK, so we're just going to start with random objects.

168
00:07:09,400 --> 00:07:12,840
 These are familiar objects if you've played with the YCB

169
00:07:12,840 --> 00:07:14,480
 object data set.

170
00:07:14,480 --> 00:07:20,520
 They all have ridiculously big mesh texture files.

171
00:07:20,520 --> 00:07:23,320
 But cameras, just like we set up before,

172
00:07:23,320 --> 00:07:25,360
 but now we have random objects.

173
00:07:25,360 --> 00:07:29,280
 And we're going to sit there and build not only the bits we've

174
00:07:29,280 --> 00:07:31,680
 done before, but we're going to generalize our perception

175
00:07:31,680 --> 00:07:32,240
 system.

176
00:07:32,240 --> 00:07:35,160
 We're going to talk about the more complicated simulation

177
00:07:35,160 --> 00:07:36,360
 that happens here.

178
00:07:36,360 --> 00:07:38,280
 And we're going to build a higher level state machine

179
00:07:38,280 --> 00:07:40,440
 to think about the logic of, OK, I missed something.

180
00:07:40,440 --> 00:07:42,600
 Let's go back and pick something up again.

181
00:07:42,600 --> 00:07:45,160
 So it brings up a little bit of some of the task planning too.

182
00:07:45,160 --> 00:07:57,920
 OK, so the first question you get

183
00:07:57,920 --> 00:07:59,420
 if you're trying to-- in simulation,

184
00:07:59,420 --> 00:08:01,360
 and you sort of saw it at the beginning of my animation.

185
00:08:01,360 --> 00:08:03,520
 But the first question is, how do you generate

186
00:08:03,520 --> 00:08:06,760
 diverse random simulations?

187
00:08:06,760 --> 00:08:08,400
 And the problem in its full glory

188
00:08:08,400 --> 00:08:10,240
 is actually fairly hard.

189
00:08:10,240 --> 00:08:13,000
 But if you're willing-- in this sort of clutter clearing setup,

190
00:08:13,000 --> 00:08:15,560
 and actually in a lot of robot experiments,

191
00:08:15,560 --> 00:08:19,600
 people that have been training deep learning perception

192
00:08:19,600 --> 00:08:21,920
 systems from simulated images and the like,

193
00:08:21,920 --> 00:08:26,000
 it's a fairly common workflow to generate random environments

194
00:08:26,000 --> 00:08:28,760
 by basically dropping things out of the sky.

195
00:08:28,760 --> 00:08:33,440
 So if you want to come up with a random distribution of clutter,

196
00:08:33,440 --> 00:08:35,320
 this is a pretty good way to do it.

197
00:08:35,320 --> 00:08:40,680
 And it's for a few subtle reasons.

198
00:08:40,680 --> 00:08:42,280
 One of them is that--

199
00:08:42,280 --> 00:08:46,000
 so basically, this is relying on the physics engine

200
00:08:46,000 --> 00:08:47,480
 to come up with the-- you give it

201
00:08:47,480 --> 00:08:49,480
 random initial conditions, but the physics engine

202
00:08:49,480 --> 00:08:52,800
 is really finding the static equilibrium of postures

203
00:08:52,800 --> 00:08:54,840
 for you.

204
00:08:54,840 --> 00:08:56,800
 And physics is a powerful thing.

205
00:08:56,800 --> 00:08:59,480
 And it's well-defined, almost always,

206
00:08:59,480 --> 00:09:04,260
 except for when objects are in deep penetration.

207
00:09:04,260 --> 00:09:06,600
 So if I were to just start the physics engine

208
00:09:06,600 --> 00:09:08,880
 with all of the objects completely on top of each other

209
00:09:08,880 --> 00:09:11,600
 at 0, 0, 0, then I don't know what it would do,

210
00:09:11,600 --> 00:09:13,240
 but probably things would be flying off

211
00:09:13,240 --> 00:09:15,680
 in different directions because of numerical instabilities.

212
00:09:15,680 --> 00:09:18,200
 Because really, the context solvers

213
00:09:18,200 --> 00:09:20,940
 shouldn't be asked to solve that problem.

214
00:09:20,940 --> 00:09:23,240
 That shouldn't happen in reality.

215
00:09:23,240 --> 00:09:26,360
 So a common heuristic is to--

216
00:09:26,360 --> 00:09:29,520
 so you'd like to start objects out of penetration.

217
00:09:29,520 --> 00:09:30,920
 And that's sort of hard in this--

218
00:09:31,260 --> 00:09:34,380
 if I had to pick configurations here that

219
00:09:34,380 --> 00:09:36,900
 had to be all out of penetration,

220
00:09:36,900 --> 00:09:39,580
 that would be a tough-- that's a puzzle to solve.

221
00:09:39,580 --> 00:09:41,300
 And we can do that with optimization.

222
00:09:41,300 --> 00:09:43,340
 If I have time, I'll talk about that.

223
00:09:43,340 --> 00:09:46,060
 But it's just much easier.

224
00:09:46,060 --> 00:09:48,340
 The script here is very simple.

225
00:09:48,340 --> 00:09:51,100
 You basically pick-- this is just all foam bricks,

226
00:09:51,100 --> 00:09:52,860
 but I'll show you it works more generally.

227
00:09:52,860 --> 00:09:55,660
 Pick an object, go up a little bit from the bin,

228
00:09:55,660 --> 00:09:59,020
 pick a random translation, a random pose,

229
00:09:59,020 --> 00:10:00,580
 and then lock that one in.

230
00:10:00,580 --> 00:10:02,980
 Now go up a little bit higher so that you're

231
00:10:02,980 --> 00:10:05,140
 pretty confident that you're not in an intersection.

232
00:10:05,140 --> 00:10:07,460
 Pick a random position and random pose.

233
00:10:07,460 --> 00:10:10,060
 And you just make a stack that is safely out of collision.

234
00:10:10,060 --> 00:10:13,360
 And then you let physics do the work, which in some ways

235
00:10:13,360 --> 00:10:16,100
 is a really clever--

236
00:10:16,100 --> 00:10:17,880
 like I say, physics is pretty good.

237
00:10:17,880 --> 00:10:20,340
 I mean, it's solving a really hard problem

238
00:10:20,340 --> 00:10:25,100
 by solving governing equations.

239
00:10:25,100 --> 00:10:27,140
 You can do that with arbitrary objects, of course.

240
00:10:29,980 --> 00:10:31,460
 So this is the YCB objects.

241
00:10:31,460 --> 00:10:33,100
 It's this pretty famous--

242
00:10:33,100 --> 00:10:37,500
 I mean, it's almost a folklore thing where--

243
00:10:37,500 --> 00:10:41,500
 so the Yale, Cal, Berkeley, there

244
00:10:41,500 --> 00:10:43,900
 were investigators from all three schools

245
00:10:43,900 --> 00:10:46,020
 that decided that we should make a common data set.

246
00:10:46,020 --> 00:10:47,380
 We should just agree.

247
00:10:47,380 --> 00:10:49,940
 They bought a bunch of objects on Amazon.

248
00:10:49,940 --> 00:10:52,220
 They scanned them and offered the scans

249
00:10:52,220 --> 00:10:54,060
 as part of their paper data set.

250
00:10:54,060 --> 00:10:56,100
 And they said, here's the part numbers.

251
00:10:56,100 --> 00:10:59,100
 If you contact us, we'll give you a copy of those,

252
00:10:59,100 --> 00:11:01,620
 or you can just order them online.

253
00:11:01,620 --> 00:11:03,540
 And so we have this data set of people that--

254
00:11:03,540 --> 00:11:05,660
 lots of people could work with the same objects.

255
00:11:05,660 --> 00:11:06,700
 Super useful.

256
00:11:06,700 --> 00:11:12,220
 It sucks that now the packaging has changed.

257
00:11:12,220 --> 00:11:14,400
 So you can't get that Cheez-It box.

258
00:11:14,400 --> 00:11:16,140
 You can get one with low sodium.

259
00:11:16,140 --> 00:11:20,420
 But it's still pretty good.

260
00:11:20,420 --> 00:11:21,380
 It's still pretty good.

261
00:11:21,380 --> 00:11:23,700
 So if you can find a vintage Cheez-It box that

262
00:11:23,700 --> 00:11:25,700
 matches the YCB, you could probably

263
00:11:25,700 --> 00:11:30,020
 get some money for that on eBay with the robotics market.

264
00:11:30,020 --> 00:11:31,940
 But you'll see a handful of these objects

265
00:11:31,940 --> 00:11:33,260
 that I use over and over and over again,

266
00:11:33,260 --> 00:11:34,680
 because they're the canonical ones.

267
00:11:34,680 --> 00:11:40,580
 And if you drop them out of the sky, you get things like this.

268
00:11:40,580 --> 00:11:42,620
 And it just works fine.

269
00:11:42,620 --> 00:11:43,900
 I always think it's funny.

270
00:11:43,900 --> 00:11:45,740
 It's like the central limit theorem at work,

271
00:11:45,740 --> 00:11:48,340
 even if it's like spam cans and mustard bottles.

272
00:11:48,340 --> 00:11:51,340
 But that's just uniform.

273
00:11:51,340 --> 00:11:52,500
 That's a uniform sampler.

274
00:11:52,500 --> 00:11:53,860
 And just-- there you go.

275
00:11:53,860 --> 00:11:56,420
 And you get these pileups.

276
00:11:56,420 --> 00:11:57,780
 So that works fine.

277
00:11:57,780 --> 00:12:00,540
 And of course, it works fine in 3D.

278
00:12:00,540 --> 00:12:03,260
 So this is me dropping things out of the sky,

279
00:12:03,260 --> 00:12:06,700
 putting a camera right above, and generating

280
00:12:06,700 --> 00:12:09,580
 a picture of the bin like the overhead camera would see.

281
00:12:09,580 --> 00:12:14,500
 And when we get to some of the deep learning-based perception,

282
00:12:14,500 --> 00:12:15,740
 we'll use this as a data set.

283
00:12:15,740 --> 00:12:18,300
 I just dropped it like 10,000 times.

284
00:12:18,300 --> 00:12:19,900
 I just made 10,000 images.

285
00:12:19,900 --> 00:12:22,820
 And they're all labeled from random initial conditions.

286
00:12:22,820 --> 00:12:25,260
 And that's a pretty good data set to train cheese-it box

287
00:12:25,260 --> 00:12:26,180
 detectors in clutter.

288
00:12:26,180 --> 00:12:32,180
 So that's very easy to say.

289
00:12:32,180 --> 00:12:33,660
 Just run it in the physics engine.

290
00:12:33,660 --> 00:12:34,700
 Just drop your assets in.

291
00:12:34,700 --> 00:12:37,020
 It's a few lines of code.

292
00:12:37,020 --> 00:12:40,460
 But when I got to this part, I was like, OK,

293
00:12:40,460 --> 00:12:43,820
 I have to tell you a little bit about contact simulation

294
00:12:43,820 --> 00:12:48,420
 because there's so much behind that little drop the spam can

295
00:12:48,420 --> 00:12:49,060
 thing.

296
00:12:49,060 --> 00:12:51,340
 There's so much smarts there.

297
00:12:51,340 --> 00:12:53,740
 There's so much subtlety there.

298
00:12:53,740 --> 00:12:56,300
 And some of it, you'll find yourself

299
00:12:56,300 --> 00:13:00,740
 in a situation where if you know this, you will persevere.

300
00:13:00,740 --> 00:13:02,460
 If you don't know this, your objects

301
00:13:02,460 --> 00:13:04,220
 will fall off the table or out of your hand

302
00:13:04,220 --> 00:13:06,020
 or explode into space.

303
00:13:06,020 --> 00:13:11,260
 So I want to spend a day talking a bit about contact simulation.

304
00:13:11,260 --> 00:13:12,980
 And just maybe to make the point,

305
00:13:12,980 --> 00:13:14,380
 I can even show the notebook here.

306
00:13:14,380 --> 00:13:17,820
 [VIDEO PLAYBACK]

307
00:13:17,820 --> 00:13:32,860
 So that's the 2D one.

308
00:13:32,860 --> 00:13:34,380
 It works fine.

309
00:13:34,380 --> 00:13:35,340
 Mix the video.

310
00:13:35,340 --> 00:13:36,380
 Here's the 3D one.

311
00:13:36,380 --> 00:13:41,460
 It really is a few lines of code.

312
00:13:41,460 --> 00:13:44,940
 I just-- if I can make that a little bigger here.

313
00:13:44,940 --> 00:13:49,460
 I just actually make this scenario file.

314
00:13:49,460 --> 00:13:55,220
 And I just said for one in range 10, pick a random object

315
00:13:55,220 --> 00:13:59,500
 and drop it into the file and then load it.

316
00:13:59,500 --> 00:14:02,460
 And then we set a random initial position.

317
00:14:02,460 --> 00:14:04,740
 And that's a few lines of code.

318
00:14:04,740 --> 00:14:06,540
 And what you get out is the scene.

319
00:14:06,540 --> 00:14:10,820
 But if you draw the contact force vectors,

320
00:14:10,820 --> 00:14:13,260
 you realize that to find a static equilibrium

321
00:14:13,260 --> 00:14:15,700
 of this system, the contact engine is actually

322
00:14:15,700 --> 00:14:16,940
 doing a lot of work.

323
00:14:16,940 --> 00:14:19,660
 It's solving for a lot of contact forces

324
00:14:19,660 --> 00:14:21,860
 to find a static equilibrium.

325
00:14:21,860 --> 00:14:23,980
 This is solving good physics problems.

326
00:14:23,980 --> 00:14:26,680
 And so let's just dig a little bit

327
00:14:26,680 --> 00:14:29,740
 into what that problem is that it's solving

328
00:14:29,740 --> 00:14:32,100
 and some of the subtleties about how it solves it.

329
00:14:38,380 --> 00:14:41,700
 So we talked already about spatial quantities.

330
00:14:41,700 --> 00:14:46,300
 We talked about positions and poses and rotation matrices.

331
00:14:46,300 --> 00:14:49,500
 We talked about spatial velocities.

332
00:14:49,500 --> 00:14:51,980
 Today we need to add spatial force.

333
00:14:51,980 --> 00:14:54,380
 Today we're going to start talking about forces.

334
00:14:54,380 --> 00:15:02,980
 So what's a spatial force?

335
00:15:02,980 --> 00:15:03,940
 Force is force.

336
00:15:03,940 --> 00:15:06,540
 What's a spatial force?

337
00:15:06,540 --> 00:15:11,020
 So a spatial force is a six-dimensional quantity.

338
00:15:11,020 --> 00:15:14,420
 We start with this, which has three components that you

339
00:15:14,420 --> 00:15:18,340
 would sort of expect, but also has three components.

340
00:15:18,340 --> 00:15:22,660
 This is the sort of translational.

341
00:15:22,660 --> 00:15:29,340
 And this is a 3 by 1 rotational.

342
00:15:29,340 --> 00:15:34,620
 Just like the spatial velocity vector

343
00:15:34,620 --> 00:15:38,740
 has angular velocity and translational velocity,

344
00:15:38,740 --> 00:15:41,380
 the forces have that too.

345
00:15:41,380 --> 00:15:44,700
 We're going to annotate this the same way.

346
00:15:44,700 --> 00:15:48,060
 Forces, we like to have names on their own.

347
00:15:48,060 --> 00:15:57,540
 I'll label everything in a second here.

348
00:15:57,540 --> 00:16:01,620
 So we write the expressed in frame down here.

349
00:16:01,620 --> 00:16:08,700
 For consistency, with the other notation,

350
00:16:08,700 --> 00:16:10,500
 it's still expressed in--

351
00:16:10,500 --> 00:16:13,700
 there's never a relative or measured in frame for forces.

352
00:16:13,700 --> 00:16:14,820
 We don't need that.

353
00:16:14,820 --> 00:16:17,140
 Forces are forces.

354
00:16:17,140 --> 00:16:21,020
 And this is the point that the force is applied.

355
00:16:21,020 --> 00:16:24,420
 [WRITING ON BOARD]

356
00:16:24,420 --> 00:16:37,500
 We often name the point with the body name,

357
00:16:37,500 --> 00:16:40,180
 as well as the point name, just to remember that it's

358
00:16:40,180 --> 00:16:46,060
 a force being applied on body B at point C.

359
00:16:46,060 --> 00:16:47,380
 It's a recommendation sort of.

360
00:16:47,380 --> 00:16:50,820
 [WRITING ON BOARD]

361
00:16:50,820 --> 00:17:06,900
 Because you're going to find yourself with a point on body

362
00:17:06,900 --> 00:17:10,060
 A that's coincident with a point on body B.

363
00:17:10,060 --> 00:17:11,700
 And there's equal and opposite forces.

364
00:17:11,700 --> 00:17:13,900
 And if you don't remember to sort of which one you're

365
00:17:13,900 --> 00:17:15,660
 talking about, it gets confusing fast.

366
00:17:15,660 --> 00:17:16,160
 Yeah?

367
00:17:16,160 --> 00:17:17,060
 [INAUDIBLE]

368
00:17:17,060 --> 00:17:22,860
 Yeah, so good.

369
00:17:22,860 --> 00:17:24,440
 So what the heck is a rotational force?

370
00:17:24,440 --> 00:17:26,020
 Let me just finish writing it here.

371
00:17:26,020 --> 00:17:26,900
 This is a torque, yes.

372
00:17:26,900 --> 00:17:29,620
 That's why tau for torque.

373
00:17:29,620 --> 00:17:34,140
 This is name C and BP.

374
00:17:34,140 --> 00:17:44,140
 I'll just bring this a little wider.

375
00:17:44,140 --> 00:17:46,200
 [INAUDIBLE]

376
00:17:46,200 --> 00:17:46,700
 What's that?

377
00:17:46,700 --> 00:17:47,600
 [INAUDIBLE]

378
00:17:47,600 --> 00:17:55,480
 Yeah, this is an important spatial quantity.

379
00:17:55,480 --> 00:17:56,800
 So we have an entire algebra.

380
00:17:56,800 --> 00:17:59,360
 The question is, why would you mix this up and put this

381
00:17:59,360 --> 00:17:59,860
 together?

382
00:17:59,860 --> 00:18:02,400
 You're going to see, I think, in a very simple example.

383
00:18:02,400 --> 00:18:05,520
 It may be a compelling reason why to do it in just a second.

384
00:18:05,520 --> 00:18:09,160
 But our entire spatial algebra is

385
00:18:09,160 --> 00:18:12,880
 going to be defined really in these six dimensional spaces.

386
00:18:12,880 --> 00:18:17,660
 Just like it made sense to do angular velocity as well

387
00:18:17,660 --> 00:18:19,160
 as translational velocity.

388
00:18:19,160 --> 00:18:21,720
 And it turns out, if you want to summarize--

389
00:18:21,720 --> 00:18:24,400
 for instance, if the real world only

390
00:18:24,400 --> 00:18:26,720
 applies Cartesian forces--

391
00:18:26,720 --> 00:18:27,880
 maybe you could say--

392
00:18:27,880 --> 00:18:29,580
 I know it's just going to do it, I think.

393
00:18:29,580 --> 00:18:32,280
 It's probably a weak connection.

394
00:18:32,280 --> 00:18:34,760
 If the real world, you say, maybe only applies forces

395
00:18:34,760 --> 00:18:40,480
 that are translational, then you still

396
00:18:40,480 --> 00:18:45,960
 want to have the concept of a rotational force or torque

397
00:18:45,960 --> 00:18:49,760
 if you want to summarize the translational force

398
00:18:49,760 --> 00:18:51,280
 at a different point on the rigid body.

399
00:18:51,280 --> 00:19:03,960
 And this thing, this spatial force, is also known as wrench.

400
00:19:03,960 --> 00:19:06,240
 You'll hear it called wrench commonly.

401
00:19:09,760 --> 00:19:11,760
 I think I remembered to put the--

402
00:19:11,760 --> 00:19:15,840
 yeah, OK.

403
00:19:15,840 --> 00:19:18,360
 So instead of writing it all on the board, it's in the notes.

404
00:19:18,360 --> 00:19:19,940
 And I'll just put it up on the screen.

405
00:19:19,940 --> 00:19:23,400
 But basically, we have the same sort of algebra rules.

406
00:19:23,400 --> 00:19:25,920
 So spatial forces add when they're

407
00:19:25,920 --> 00:19:28,960
 applied to the same body in the same frame.

408
00:19:28,960 --> 00:19:30,720
 So the only thing that's different here

409
00:19:30,720 --> 00:19:31,760
 is the name of the force.

410
00:19:31,760 --> 00:19:35,960
 They're applied at the same--

411
00:19:35,960 --> 00:19:38,960
 I should even say at the same point on the same body

412
00:19:38,960 --> 00:19:40,640
 in the same frame.

413
00:19:40,640 --> 00:19:43,600
 Then you can add forces together.

414
00:19:43,600 --> 00:19:49,920
 You can shift spatial forces to a different application point.

415
00:19:49,920 --> 00:19:53,880
 Turns out, the translational force just shifts.

416
00:19:53,880 --> 00:19:55,760
 But you start getting cross products,

417
00:19:55,760 --> 00:19:58,360
 which you'll probably remember, r cross f kind of math

418
00:19:58,360 --> 00:20:00,040
 from physics.

419
00:20:00,040 --> 00:20:03,880
 You get cross products when you shift the point of application

420
00:20:03,880 --> 00:20:05,200
 of a force.

421
00:20:05,200 --> 00:20:09,240
 We're going to see that in a second here.

422
00:20:09,240 --> 00:20:13,080
 And then actually, for basically all the spatial quantities,

423
00:20:13,080 --> 00:20:15,680
 if you want to change that expressed in frame,

424
00:20:15,680 --> 00:20:20,080
 you do that by multiplying by a rotation matrix.

425
00:20:20,080 --> 00:20:21,160
 And that's it.

426
00:20:21,160 --> 00:20:22,960
 That's right in the notes.

427
00:20:22,960 --> 00:20:24,840
 But we're going to use these in a second.

428
00:20:24,840 --> 00:20:28,800
 So having this beautiful algebra sort of concept,

429
00:20:28,800 --> 00:20:33,180
 we can now do more complicated things in complicated systems

430
00:20:33,180 --> 00:20:36,320
 by just applying these rules efficiently over and over

431
00:20:36,320 --> 00:20:37,960
 again.

432
00:20:37,960 --> 00:20:40,200
 So let's do that in a very, very simple example.

433
00:20:40,200 --> 00:20:42,320
 So-- whoops, forgot to erase that one.

434
00:20:42,320 --> 00:20:51,480
 Well, it looks pretty close to what I was going to write.

435
00:21:02,080 --> 00:21:05,820
 So simple free body diagram.

436
00:21:05,820 --> 00:21:09,560
 Let's say I have a box sitting on a table.

437
00:21:09,560 --> 00:21:11,320
 I should use multiple colors of chalk.

438
00:21:11,320 --> 00:21:23,160
 Call this body B. And I'll put its frame here.

439
00:21:23,160 --> 00:21:25,200
 And I'll even assume that the center of mass

440
00:21:25,200 --> 00:21:26,880
 is right at the origin here.

441
00:21:26,880 --> 00:21:30,240
 [WRITING ON BOARD]

442
00:21:30,240 --> 00:21:36,880
 And I'm going to just set it on the table like this.

443
00:21:36,880 --> 00:21:43,720
 And I'm going to think about--

444
00:21:43,720 --> 00:21:45,640
 I'm going to start by summarizing the contact

445
00:21:45,640 --> 00:21:52,840
 forces between the box and the table with two forces, one

446
00:21:52,840 --> 00:21:54,520
 at each corner.

447
00:21:54,520 --> 00:21:56,640
 We'll see if that's sufficient and talk

448
00:21:56,640 --> 00:21:58,400
 about that in a minute.

449
00:21:58,400 --> 00:22:02,680
 But we'll call this contact force 1.

450
00:22:02,680 --> 00:22:04,440
 I'll call it F1.

451
00:22:04,440 --> 00:22:13,960
 And it's going to be applied in a coordinate frame 1.

452
00:22:13,960 --> 00:22:18,360
 And it's applied at this point C1.

453
00:22:18,360 --> 00:22:22,800
 Maybe I should call it BC1, follow my own advice.

454
00:22:22,800 --> 00:22:24,880
 It's a lot of symbols.

455
00:22:24,880 --> 00:22:26,160
 A lot of symbols.

456
00:22:26,160 --> 00:22:28,680
 This one I really don't like, but it really matters.

457
00:22:28,680 --> 00:22:29,640
 Otherwise, you're going to make--

458
00:22:29,640 --> 00:22:31,680
 in fact, when I was cleaning up the notes today,

459
00:22:31,680 --> 00:22:34,120
 I found a mistake in one of my examples.

460
00:22:34,120 --> 00:22:38,000
 And it's because I had tried to shortcut the notation,

461
00:22:38,000 --> 00:22:39,880
 and I made a mistake.

462
00:22:39,880 --> 00:22:46,800
 So we'll call this one force 2.

463
00:22:46,800 --> 00:22:50,560
 And apply it at coordinate frame C2.

464
00:22:50,560 --> 00:22:54,800
 So I'm calling this coordinate frame C2.

465
00:22:55,280 --> 00:22:57,400
 OK.

466
00:22:57,400 --> 00:23:02,840
 And then, of course, we have the force of gravity here,

467
00:23:02,840 --> 00:23:08,560
 mg, which I'll call force of gravity.

468
00:23:08,560 --> 00:23:19,800
 So let's just think about the statics problem here,

469
00:23:19,800 --> 00:23:20,840
 static equilibrium.

470
00:23:20,840 --> 00:23:23,760
 So when this is completely at rest,

471
00:23:23,760 --> 00:23:26,160
 then we should be able to solve, knowing

472
00:23:26,160 --> 00:23:29,800
 what we know about forces and force balance,

473
00:23:29,800 --> 00:23:32,120
 we should be able to solve for the contact forces

474
00:23:32,120 --> 00:23:37,120
 here that would satisfy the fact that that block is not moving.

475
00:23:37,120 --> 00:23:37,620
 Yeah?

476
00:23:37,620 --> 00:23:41,320
 [INAUDIBLE]

477
00:23:41,320 --> 00:23:44,560
 We're going to generalize this.

478
00:23:44,560 --> 00:23:45,400
 So that's good.

479
00:23:45,400 --> 00:23:48,520
 So let me assume it for now.

480
00:23:48,520 --> 00:23:50,840
 But the one reason to assume it is that actually most

481
00:23:50,840 --> 00:23:52,280
 simulators assume it.

482
00:23:52,280 --> 00:23:55,760
 Most simulators, when they're trying to summarize the contact

483
00:23:55,760 --> 00:23:57,560
 between two bodies, they will summarize that

484
00:23:57,560 --> 00:24:00,520
 with a small number of points.

485
00:24:00,520 --> 00:24:03,640
 It'd be more elegant to have an entire pressure distribution.

486
00:24:03,640 --> 00:24:06,680
 It just makes the math a little bit more complicated.

487
00:24:06,680 --> 00:24:09,080
 And certainly, this is sufficient to describe

488
00:24:09,080 --> 00:24:10,960
 equilibrium.

489
00:24:10,960 --> 00:24:13,840
 If you think-- if you want, I could put a little foot

490
00:24:13,840 --> 00:24:14,640
 on the--

491
00:24:14,640 --> 00:24:15,480
 on here.

492
00:24:15,480 --> 00:24:17,080
 And then it would be real.

493
00:24:17,080 --> 00:24:18,540
 You could make that physically true.

494
00:24:22,120 --> 00:24:25,040
 OK, so--

495
00:24:25,040 --> 00:24:27,000
 [INAUDIBLE]

496
00:24:27,000 --> 00:24:27,500
 Ask--

497
00:24:27,500 --> 00:24:31,880
 [INAUDIBLE]

498
00:24:31,880 --> 00:24:32,380
 Yep.

499
00:24:32,380 --> 00:24:41,560
 [INAUDIBLE]

500
00:24:41,560 --> 00:24:42,060
 Good.

501
00:24:42,060 --> 00:24:43,720
 So why does it matter?

502
00:24:43,720 --> 00:24:47,600
 Yeah, so we are going to choose to get ahead.

503
00:24:47,600 --> 00:24:49,960
 So first of all, it gets a lot more complicated than this.

504
00:24:49,960 --> 00:24:52,520
 So even just on the board in the--

505
00:24:52,520 --> 00:24:54,280
 well, in the previous slide, it's

506
00:24:54,280 --> 00:24:55,920
 going to get a lot more complicated.

507
00:24:55,920 --> 00:24:58,000
 Yeah, and so for instance, one of the ways

508
00:24:58,000 --> 00:25:01,600
 we're going to define a good grasp

509
00:25:01,600 --> 00:25:07,600
 is a grasp that can defy the maximal adversarial wrench.

510
00:25:07,600 --> 00:25:09,680
 If someone were to come up and knock your--

511
00:25:09,680 --> 00:25:11,520
 try to apply a force or something,

512
00:25:11,520 --> 00:25:13,200
 then you want to pick a grasp that

513
00:25:13,200 --> 00:25:16,240
 tries to avoid the biggest possible wrench.

514
00:25:16,240 --> 00:25:18,600
 And that would be a surrogate for not knowing

515
00:25:18,600 --> 00:25:21,360
 very much about your object.

516
00:25:21,360 --> 00:25:23,560
 So a good place to put your finger

517
00:25:23,560 --> 00:25:26,240
 can be decided based on thinking about the relative force

518
00:25:26,240 --> 00:25:28,320
 balances and things like that.

519
00:25:28,320 --> 00:25:29,720
 That's a great question.

520
00:25:29,720 --> 00:25:30,720
 Yes?

521
00:25:30,720 --> 00:25:42,160
 [INAUDIBLE]

522
00:25:42,160 --> 00:25:43,640
 It should go real speed.

523
00:25:43,640 --> 00:25:46,060
 You're saying that the blocks look like they fell slowly?

524
00:25:46,060 --> 00:25:49,580
 [INAUDIBLE]

525
00:25:49,580 --> 00:25:51,040
 Oh.

526
00:25:51,040 --> 00:25:52,120
 Oh, I see.

527
00:25:52,120 --> 00:25:54,640
 For the arm, yeah, that was just because we haven't done

528
00:25:54,640 --> 00:25:56,440
 motion planning yet, basically.

529
00:25:56,440 --> 00:25:58,540
 The defy k thing, I was just being conservative

530
00:25:58,540 --> 00:26:00,680
 and trying to make it move slowly and avoid cameras

531
00:26:00,680 --> 00:26:01,560
 and stuff like that.

532
00:26:01,560 --> 00:26:04,360
 But we're going to have better tools, yes.

533
00:26:04,360 --> 00:26:08,200
 And we'll just hopefully be whipping around and probably

534
00:26:08,200 --> 00:26:11,320
 throwing objects out of the hand and stuff like that.

535
00:26:11,320 --> 00:26:13,520
 Last year also, if you noticed in the projects,

536
00:26:13,520 --> 00:26:15,100
 there was a surprising number of people

537
00:26:15,100 --> 00:26:20,360
 that wanted to throw or whip or crush or whatever things,

538
00:26:20,360 --> 00:26:20,980
 which is cool.

539
00:26:20,980 --> 00:26:22,120
 Yeah, I'm good with that.

540
00:26:22,120 --> 00:26:23,360
 Someone says, we're going to do darts

541
00:26:23,360 --> 00:26:24,980
 and we want to do it on the real robot.

542
00:26:24,980 --> 00:26:29,640
 I was like, whoa, not my real robot.

543
00:26:29,640 --> 00:26:31,080
 But that can be a fun thing to do.

544
00:26:31,080 --> 00:26:32,560
 And the robots are just capable--

545
00:26:32,560 --> 00:26:34,280
 like, the KUKA is actually speed limited.

546
00:26:34,280 --> 00:26:36,120
 It's not a super fast robot.

547
00:26:36,120 --> 00:26:38,480
 That's not its finest attribute.

548
00:26:38,480 --> 00:26:40,120
 But probably just enough if you put

549
00:26:40,120 --> 00:26:42,320
 a little bit of a lever on the end to throw a dart.

550
00:26:42,900 --> 00:26:45,060
 Yeah.

551
00:26:45,060 --> 00:26:50,100
 But I don't support that for final projects.

552
00:26:50,100 --> 00:26:50,600
 OK.

553
00:26:50,600 --> 00:26:55,260
 So let's start being a little bit more careful here.

554
00:26:55,260 --> 00:27:00,260
 So f of gravity here, if I were to write it in--

555
00:27:00,260 --> 00:27:04,300
 it's sort of best defined in the world frame

556
00:27:04,300 --> 00:27:09,260
 and applied at the body frame here,

557
00:27:09,260 --> 00:27:10,860
 where the center of mass is.

558
00:27:10,860 --> 00:27:14,140
 Because in that frame, it's easy to just say

559
00:27:14,140 --> 00:27:17,500
 it's actually a six element vector that has no torque.

560
00:27:17,500 --> 00:27:26,180
 This is my slightly more precise version

561
00:27:26,180 --> 00:27:28,980
 of just writing negative mg there.

562
00:27:28,980 --> 00:27:31,580
 Actually, in the spatial notation,

563
00:27:31,580 --> 00:27:33,080
 it lives in a six dimensional space.

564
00:27:33,080 --> 00:27:40,180
 The contact forces are actually most naturally described

565
00:27:40,180 --> 00:27:43,140
 in the contact frame, which doesn't look very

566
00:27:43,140 --> 00:27:45,220
 different than the body frame and the world frame

567
00:27:45,220 --> 00:27:46,860
 in my first example.

568
00:27:46,860 --> 00:27:50,940
 But it will look much different later examples.

569
00:27:50,940 --> 00:27:53,260
 So because it's most natural to say, for instance,

570
00:27:53,260 --> 00:27:56,100
 that in this frame of contact, which

571
00:27:56,100 --> 00:27:59,660
 will move with the possible contact locations,

572
00:27:59,660 --> 00:28:03,540
 that, for instance, the force can never pull on the contact.

573
00:28:03,540 --> 00:28:05,540
 It can only push.

574
00:28:05,540 --> 00:28:11,420
 So in the contact frame, by convention, the contact frame--

575
00:28:11,420 --> 00:28:23,220
 the z direction is aligned with the contact normal.

576
00:28:29,860 --> 00:28:39,060
 So we have, for instance, that f of some i in the contact z

577
00:28:39,060 --> 00:28:41,820
 applied to whatever body is going

578
00:28:41,820 --> 00:28:44,380
 to be greater than or equal to 0.

579
00:28:44,380 --> 00:28:46,820
 Because you can't pull on--

580
00:28:46,820 --> 00:28:49,060
 contacts push, but don't pull.

581
00:28:49,060 --> 00:28:58,780
 And I'm assuming that the ground is just locked in.

582
00:28:58,780 --> 00:28:59,540
 It's not a body.

583
00:28:59,540 --> 00:29:01,420
 But if it was two bodies colliding,

584
00:29:01,420 --> 00:29:04,140
 then I would have a comparable contact frame

585
00:29:04,140 --> 00:29:06,660
 on the other body, which this is also true.

586
00:29:06,660 --> 00:29:09,140
 But it would be a different frame,

587
00:29:09,140 --> 00:29:10,380
 so equal and opposite frame.

588
00:29:10,380 --> 00:29:10,880
 Yeah?

589
00:29:10,880 --> 00:29:11,380
 [INAUDIBLE]

590
00:29:11,380 --> 00:29:23,760
 Good.

591
00:29:23,760 --> 00:29:24,260
 [INAUDIBLE]

592
00:29:24,260 --> 00:29:24,760
 [INAUDIBLE]

593
00:29:24,760 --> 00:29:33,460
 I'm going to tell you how to define the contact normal

594
00:29:33,460 --> 00:29:33,980
 in a second.

595
00:29:33,980 --> 00:29:35,540
 I've got a picture that will help with that.

596
00:29:35,540 --> 00:29:36,700
 There's a general way to do that.

597
00:29:36,700 --> 00:29:37,900
 But that's a great question.

598
00:29:37,900 --> 00:29:40,540
 He says, you just said normal, but you put it

599
00:29:40,540 --> 00:29:45,540
 in a place that has a corner, which doesn't--

600
00:29:45,540 --> 00:29:47,060
 the normal might be poorly defined,

601
00:29:47,060 --> 00:29:48,620
 or you have to think about something

602
00:29:48,620 --> 00:29:51,540
 more complicated in the corner, which is a good point.

603
00:29:51,540 --> 00:29:53,740
 But there's a fairly clean way to define that.

604
00:29:53,740 --> 00:30:05,340
 So then if we want to do our general multibody algorithm,

605
00:30:05,340 --> 00:30:08,580
 or our basic free body diagram computation,

606
00:30:08,580 --> 00:30:11,900
 then we can just apply the rules of spatial algebra.

607
00:30:11,900 --> 00:30:16,540
 And basically, the step one would be--

608
00:30:16,540 --> 00:30:17,420
 I'll do it over here.

609
00:30:17,420 --> 00:30:20,860
 [WRITING ON BOARD]

610
00:30:20,860 --> 00:30:27,940
 We're going to put all the forces

611
00:30:27,940 --> 00:30:30,060
 in the same expressed-in frame.

612
00:30:30,060 --> 00:30:44,620
 I'll just do it in frame B, just to keep--

613
00:30:44,620 --> 00:30:46,060
 I could pick any one of them.

614
00:30:46,060 --> 00:30:46,820
 I could pick world.

615
00:30:46,820 --> 00:30:47,620
 I could do anything.

616
00:30:47,620 --> 00:30:50,060
 But let's do--

617
00:30:50,060 --> 00:31:00,820
 so for instance, I can just use that algebra and say,

618
00:31:00,820 --> 00:31:09,660
 force 1 written in body B, taken at point C1,

619
00:31:09,660 --> 00:31:22,220
 is just rotated by the rotation from C1 to B of F1, B1, B, C1.

620
00:31:22,220 --> 00:31:23,580
 I keep trying to make it better.

621
00:31:23,580 --> 00:31:24,580
 It's not an I. It's a 1.

622
00:31:24,580 --> 00:31:32,460
 And I could do the same thing for contact force 2.

623
00:31:32,460 --> 00:31:33,420
 But what is that doing?

624
00:31:33,420 --> 00:31:37,140
 That's just saying that there's a force here

625
00:31:37,140 --> 00:31:42,140
 that I can express it in the frame of B.

626
00:31:42,140 --> 00:31:44,740
 And the same way with positions and velocities,

627
00:31:44,740 --> 00:31:45,860
 it'd be expressed in frame.

628
00:31:45,860 --> 00:31:48,100
 I'm still applying it at this force.

629
00:31:48,100 --> 00:31:50,380
 So it actually-- if those two were not aligned,

630
00:31:50,380 --> 00:31:51,900
 it would rotate the force.

631
00:31:51,900 --> 00:31:54,860
 But it doesn't actually have a cross product or anything

632
00:31:54,860 --> 00:31:55,820
 involved yet.

633
00:31:55,820 --> 00:31:57,580
 The force is still being applied here.

634
00:31:57,580 --> 00:31:59,140
 I'm just going to choose numbers that

635
00:31:59,140 --> 00:32:01,100
 were relative to that coordinate system instead

636
00:32:01,100 --> 00:32:02,180
 of this coordinate system.

637
00:32:05,220 --> 00:32:08,740
 And then the second step would be to apply them

638
00:32:08,740 --> 00:32:10,500
 all at the same point.

639
00:32:10,500 --> 00:32:27,220
 Now, that sounds totally weird until you understand

640
00:32:27,220 --> 00:32:33,060
 that for rigid bodies, if I were to apply a force here,

641
00:32:33,060 --> 00:32:36,500
 that's indistinguishable from me applying a different force

642
00:32:36,500 --> 00:32:39,540
 at any other point on the body, a force and a moment,

643
00:32:39,540 --> 00:32:42,180
 potentially, at any other point in the body.

644
00:32:42,180 --> 00:32:46,020
 So if you apply a force here, I could apply a different force

645
00:32:46,020 --> 00:32:49,120
 and moment here that would have exactly the same effect.

646
00:32:49,120 --> 00:32:50,820
 From the point of view of the rigid body,

647
00:32:50,820 --> 00:32:52,540
 it's completely indistinguishable

648
00:32:52,540 --> 00:32:55,100
 from applying this force I have here.

649
00:32:55,100 --> 00:32:56,140
 So I'm going to use that.

650
00:32:56,140 --> 00:32:58,020
 And that's what the rules of spatial algebra

651
00:32:58,020 --> 00:33:01,380
 do is they show you exactly how to do those transformations.

652
00:33:01,380 --> 00:33:03,420
 And I'm going to say, well, I'm going to take it

653
00:33:03,420 --> 00:33:04,500
 as if I was pushing here.

654
00:33:04,500 --> 00:33:07,580
 I'm going to make a comparable force and moment and torque

655
00:33:07,580 --> 00:33:08,580
 here.

656
00:33:08,580 --> 00:33:12,340
 And then same thing, this one, I'll move that to here too.

657
00:33:12,340 --> 00:33:14,020
 And once they're in the same place,

658
00:33:14,020 --> 00:33:17,420
 now everything has to balance.

659
00:33:17,420 --> 00:33:22,340
 They can add or subtract when they're in the same place.

660
00:33:22,340 --> 00:33:26,220
 So this is where I get my translation.

661
00:33:26,220 --> 00:33:34,740
 1 is-- it doesn't actually affect the translation 1.

662
00:33:34,740 --> 00:33:37,500
 b 1, 1, b.

663
00:33:37,500 --> 00:33:39,380
 But this is where the cross product comes in.

664
00:33:39,380 --> 00:33:47,900
 So tau b 1, b equals tau 1.

665
00:33:47,900 --> 00:33:51,620
 I hate all the symbols, but it really does make a difference.

666
00:33:51,620 --> 00:34:10,260
, That's a cross product, a vector cross product.

667
00:34:10,260 --> 00:34:14,580
 These are both 3 vectors, and so that's a vector cross product.

668
00:34:14,580 --> 00:34:18,260
 And this is just in simpler free body diagrams,

669
00:34:18,260 --> 00:34:22,620
 you probably would have just written this as r cross f.

670
00:34:22,620 --> 00:34:24,220
 That's the standard.

671
00:34:24,220 --> 00:34:26,940
 I'm producing a moment around the center of mass.

672
00:34:26,940 --> 00:34:27,940
 Yes?

673
00:34:27,940 --> 00:34:28,940
 [INAUDIBLE]

674
00:34:28,940 --> 00:34:46,660
 Nope.

675
00:34:46,660 --> 00:34:47,540
 Nope.

676
00:34:47,540 --> 00:34:50,460
 Because if you shift frames, then you

677
00:34:50,460 --> 00:34:53,740
 are going to potentially make it look like a force again.

678
00:34:53,740 --> 00:34:54,240
 [INAUDIBLE]

679
00:34:54,240 --> 00:35:06,780
 I see, you want the comparable thing.

680
00:35:06,780 --> 00:35:07,940
 It's not that way.

681
00:35:07,940 --> 00:35:14,180
 So applying the torque is almost a construction

682
00:35:14,180 --> 00:35:18,420
 that makes sense for rigid bodies.

683
00:35:18,420 --> 00:35:22,140
 As you said in the first thing, three dimensional forces

684
00:35:22,140 --> 00:35:23,100
 are real.

685
00:35:23,100 --> 00:35:25,820
 Torques are our summary of the effect of a body.

686
00:35:25,820 --> 00:35:28,620
 So they do act a little differently.

687
00:35:28,620 --> 00:35:29,980
 They don't compose in the way--

688
00:35:29,980 --> 00:35:32,860
 I agree there could be a nice symmetry if that was true,

689
00:35:32,860 --> 00:35:34,580
 but it's not.

690
00:35:34,580 --> 00:35:37,060
 They're different qualities.

691
00:35:37,060 --> 00:35:41,420
 And then, now we could solve for the contact forces if we like.

692
00:35:41,420 --> 00:35:43,300
 That must be for the--

693
00:35:43,300 --> 00:35:46,020
 to put things in balance by just saying,

694
00:35:46,020 --> 00:35:47,860
 now that they're in the same frames,

695
00:35:47,860 --> 00:35:56,460
 then f1 b b plus f2 b b plus f--

696
00:35:56,460 --> 00:35:59,100
 actually, I could even do this in the big one all at once.

697
00:35:59,100 --> 00:36:01,640
 I could do the components, or I could just do the whole thing.

698
00:36:01,640 --> 00:36:13,240
 So big F, gravity, b, that has to equal 0

699
00:36:13,240 --> 00:36:14,600
 if I'm in equilibrium.

700
00:36:14,600 --> 00:36:17,080
 So it says I'm in static equilibrium.

701
00:36:27,200 --> 00:36:32,560
 So that's six equations in its full glory,

702
00:36:32,560 --> 00:36:36,360
 one for each row of those.

703
00:36:36,360 --> 00:36:38,880
 In 2D, I guess you could say it's three equations,

704
00:36:38,880 --> 00:36:40,480
 because there's nothing out of plane

705
00:36:40,480 --> 00:36:42,400
 that would make any difference.

706
00:36:42,400 --> 00:36:43,880
 But in 3D, it's six equations.

707
00:36:43,880 --> 00:36:48,760
 And so it's interesting.

708
00:36:48,760 --> 00:36:50,360
 If you think about it and work it out,

709
00:36:50,360 --> 00:36:52,840
 I won't write everything out on the board.

710
00:36:52,840 --> 00:36:56,400
 But you can guess what the solution is for that.

711
00:36:56,400 --> 00:37:01,440
 So you'd probably think that this force had better

712
00:37:01,440 --> 00:37:06,120
 have magnitude mg divided by 2.

713
00:37:06,120 --> 00:37:08,400
 And this one had better be mg divided by 2,

714
00:37:08,400 --> 00:37:11,160
 assuming this is nicely in the center.

715
00:37:11,160 --> 00:37:13,240
 And that's what falls out of this.

716
00:37:13,240 --> 00:37:16,880
 But you have to understand, actually,

717
00:37:16,880 --> 00:37:23,440
 that the component that balances the z force, the z equation

718
00:37:23,440 --> 00:37:27,920
 in this, that only tells me that the sum of those two vectors

719
00:37:27,920 --> 00:37:30,040
 has to equal mg.

720
00:37:30,040 --> 00:37:32,600
 It doesn't say anything about the relative magnitude

721
00:37:32,600 --> 00:37:34,520
 of those two vectors.

722
00:37:34,520 --> 00:37:37,240
 It's actually the torque balance,

723
00:37:37,240 --> 00:37:40,160
 the fact that you have to have zero net torque, the thing

724
00:37:40,160 --> 00:37:42,000
 with the cross product, which says

725
00:37:42,000 --> 00:37:44,240
 if that body's in the middle, then they

726
00:37:44,240 --> 00:37:46,040
 will have equal magnitude.

727
00:37:46,040 --> 00:37:51,200
 Yes?

728
00:37:51,200 --> 00:38:02,160
 [INAUDIBLE]

729
00:38:02,160 --> 00:38:02,960
 Yeah.

730
00:38:02,960 --> 00:38:04,120
 So that's a good question.

731
00:38:04,120 --> 00:38:07,200
 So some people-- so some simulators, for instance--

732
00:38:07,200 --> 00:38:10,120
 or yeah, it's really a kind of a simulator thing more than a math

733
00:38:10,120 --> 00:38:11,320
 thing.

734
00:38:11,320 --> 00:38:16,080
 Since point contacts are maybe a poor summary of a contact

735
00:38:16,080 --> 00:38:18,960
 of face-on-face contact, some people

736
00:38:18,960 --> 00:38:24,240
 will have the ability to produce frictional torque right

737
00:38:24,240 --> 00:38:25,520
 at your point contact.

738
00:38:25,520 --> 00:38:27,720
 Maybe that'll make more sense when I put the friction

739
00:38:27,720 --> 00:38:29,600
 cone up in a second, because then we'll see it right there.

740
00:38:29,600 --> 00:38:31,840
 But it's true that sometimes people model that.

741
00:38:31,840 --> 00:38:35,040
 But that's really meant to model the effect of many forces

742
00:38:35,040 --> 00:38:37,360
 in a patch.

743
00:38:37,360 --> 00:38:38,600
 It's an approximation for that.

744
00:38:38,600 --> 00:38:46,440
 OK, so what about the horizontal components of the force?

745
00:38:46,440 --> 00:38:47,480
 Oh, sorry, yes?

746
00:38:47,480 --> 00:38:59,600
 [INAUDIBLE]

747
00:38:59,600 --> 00:39:02,040
 So you go through and you calculate

748
00:39:02,040 --> 00:39:04,720
 all kinds of contacts that are potential contacts.

749
00:39:04,720 --> 00:39:07,120
 And then in the rigid body algorithm

750
00:39:07,120 --> 00:39:10,560
 that does this recursive step through,

751
00:39:10,560 --> 00:39:13,560
 it summarizes things into a common frame

752
00:39:13,560 --> 00:39:15,680
 and does all the algebra in the common frame

753
00:39:15,680 --> 00:39:16,560
 and iterates through.

754
00:39:16,560 --> 00:39:19,120
 So that's what makes things efficient and elegant.

755
00:39:19,120 --> 00:39:20,040
 Yeah?

756
00:39:20,040 --> 00:39:24,400
 [INAUDIBLE]

757
00:39:24,400 --> 00:39:27,280
 So I've only so far said what happens in equilibrium.

758
00:39:27,280 --> 00:39:29,720
 And in that case, the forces are whatever they need

759
00:39:29,720 --> 00:39:33,080
 to be to keep things at zero.

760
00:39:33,080 --> 00:39:36,160
 We're going to see more complicated cases where

761
00:39:36,160 --> 00:39:38,600
 maybe there is no force that can stabilize, for instance.

762
00:39:38,600 --> 00:39:40,600
 And you have to make a choice.

763
00:39:40,600 --> 00:39:42,880
 What's the force going to be?

764
00:39:42,880 --> 00:39:44,520
 For instance, already here, we haven't

765
00:39:44,520 --> 00:39:47,440
 said what the horizontal component of the force is.

766
00:39:47,440 --> 00:39:49,200
 The force balance equations just tell me

767
00:39:49,200 --> 00:39:51,320
 that that magnitude and that magnitude

768
00:39:51,320 --> 00:39:54,080
 have to be equal so that it's not sliding.

769
00:39:54,080 --> 00:39:59,160
 But any magnitude of any size, as long

770
00:39:59,160 --> 00:40:00,800
 as they're equal and opposite, would

771
00:40:00,800 --> 00:40:04,000
 keep this block at rest.

772
00:40:04,000 --> 00:40:06,360
 So we need some rule to say what's

773
00:40:06,360 --> 00:40:09,920
 the magnitude of that horizontal component.

774
00:40:09,920 --> 00:40:10,760
 Yeah?

775
00:40:10,760 --> 00:40:13,720
 [INAUDIBLE]

776
00:40:13,720 --> 00:40:15,200
 Yeah.

777
00:40:15,200 --> 00:40:25,600
 [INAUDIBLE]

778
00:40:25,600 --> 00:40:27,720
 So that was just simulating forward.

779
00:40:27,720 --> 00:40:29,760
 And the simulation, because there's dissipation

780
00:40:29,760 --> 00:40:34,880
 and physics is clever, settles into a static equilibrium.

781
00:40:34,880 --> 00:40:36,640
 And you have to be careful in your simulator

782
00:40:36,640 --> 00:40:39,080
 to make sure that that is true, that everything converges

783
00:40:39,080 --> 00:40:40,040
 nicely.

784
00:40:40,040 --> 00:40:43,000
 But if you simulate the governing equations correctly,

785
00:40:43,000 --> 00:40:47,200
 it should do that, as long as there's any dissipation.

786
00:40:47,200 --> 00:40:50,520
 Every once in a while, actually, if you

787
00:40:50,520 --> 00:40:53,680
 watch the full simulation of the falling, dropping the bin,

788
00:40:53,680 --> 00:40:56,080
 I kind of was a little sloppy with the initial condition.

789
00:40:56,080 --> 00:40:59,120
 So sometimes, the mustard will hit the edge of the bin

790
00:40:59,120 --> 00:41:02,640
 and then fall forever because there's nothing else below.

791
00:41:02,640 --> 00:41:04,720
 So it actually doesn't converge to an equilibrium

792
00:41:04,720 --> 00:41:07,000
 because there's something falling to negative infinity.

793
00:41:07,000 --> 00:41:08,360
 And at some point, it'll crash, actually,

794
00:41:08,360 --> 00:41:10,120
 which is-- I don't like that it crashes.

795
00:41:10,120 --> 00:41:12,880
 But don't simulate it for more than 20 seconds,

796
00:41:12,880 --> 00:41:14,480
 if that happens.

797
00:41:14,480 --> 00:41:16,760
 OK.

798
00:41:16,760 --> 00:41:17,280
 All right.

799
00:41:17,280 --> 00:41:19,200
 So let's think about the horizontal component

800
00:41:19,200 --> 00:41:20,660
 because that gets us into friction.

801
00:41:20,660 --> 00:41:23,120
 And this is really a fundamental concept

802
00:41:23,120 --> 00:41:27,320
 that you must know if you're talking about manipulation,

803
00:41:27,320 --> 00:41:29,120
 which is this concept of a friction cone.

804
00:41:29,120 --> 00:41:50,360
 So maybe we'll see it by putting our box on a ramp now.

805
00:41:50,360 --> 00:41:51,520
 And now, our contact--

806
00:41:51,520 --> 00:41:58,640
 if I still have little feet on the corner here,

807
00:41:58,640 --> 00:42:01,640
 I'll still call this C1, C2.

808
00:42:01,640 --> 00:42:05,000
 I still have body 1 in the body frame here.

809
00:42:05,000 --> 00:42:11,200
 But now, if it's going to be in equilibrium,

810
00:42:11,200 --> 00:42:13,420
 I have to do a little bit more work

811
00:42:13,420 --> 00:42:17,200
 to make sure I have defined that horizontal component

812
00:42:17,200 --> 00:42:18,120
 in the contact frame.

813
00:42:18,120 --> 00:42:25,280
 And it turns out the most common model of friction

814
00:42:25,280 --> 00:42:29,200
 is Coulomb friction, which says that the magnitude

815
00:42:29,200 --> 00:42:32,880
 of the horizontal force is proportional to the magnitude

816
00:42:32,880 --> 00:42:36,320
 of the normal force in the contact frame.

817
00:42:36,320 --> 00:42:49,520
 So Coulomb friction-- if I can write it in shorthand here

818
00:42:49,520 --> 00:42:55,360
 first here, so this is the magnitude

819
00:42:55,360 --> 00:43:03,120
 of the tangential component is proportional to the magnitude

820
00:43:03,120 --> 00:43:05,440
 of the normal component.

821
00:43:05,440 --> 00:43:07,000
 That's not using my whole notation yet.

822
00:43:07,000 --> 00:43:11,560
 I'm going to make it in the proper frame in a second.

823
00:43:11,560 --> 00:43:19,200
 But the normal, we say, is always positive

824
00:43:19,200 --> 00:43:20,200
 by our definition.

825
00:43:20,200 --> 00:43:23,200
 That's our z component.

826
00:43:23,200 --> 00:43:27,520
 And so we're saying the xy component is actually--

827
00:43:27,520 --> 00:43:31,280
 this is in the Euclidean norm--

828
00:43:31,280 --> 00:43:32,440
 is proportional to this.

829
00:43:32,440 --> 00:43:35,120
 And that proportion is called the friction coefficient.

830
00:43:36,120 --> 00:43:38,560
 [WRITING]

831
00:43:38,560 --> 00:43:44,960
 Almost always mu.

832
00:43:44,960 --> 00:43:47,920
 [INAUDIBLE]

833
00:43:47,920 --> 00:43:48,420
 What?

834
00:43:48,420 --> 00:43:53,600
 This is a scalar in this case.

835
00:43:53,600 --> 00:43:54,640
 This is the magnitude.

836
00:43:54,640 --> 00:43:58,280
 So yeah.

837
00:43:58,280 --> 00:44:00,080
 That's why I wanted to use my whole thing.

838
00:44:00,080 --> 00:44:03,280
 But in shorthand, the magnitude of the normal,

839
00:44:03,280 --> 00:44:04,280
 this is a vector.

840
00:44:04,280 --> 00:44:07,720
 This is a scalar, actually.

841
00:44:07,720 --> 00:44:11,240
 So if I were to write it out, maybe it'll be more precise.

842
00:44:11,240 --> 00:44:17,160
 If I say of some thing in the contact z,

843
00:44:17,160 --> 00:44:18,840
 that's definitely a scalar.

844
00:44:18,840 --> 00:44:21,280
 Apply, let's say, a body B, it's actually going to be--

845
00:44:21,280 --> 00:44:24,240
 [WRITING]

846
00:44:24,240 --> 00:44:40,680
 So in 2D-- oh, sorry.

847
00:44:40,680 --> 00:44:41,640
 I didn't see your hand.

848
00:44:41,640 --> 00:44:45,520
 [INAUDIBLE]

849
00:44:45,520 --> 00:44:47,760
 Yep.

850
00:44:47,760 --> 00:44:52,160
 So this is some sort of a norm when I put these up.

851
00:44:52,160 --> 00:44:55,240
 And this just means it's the L2 norm, which means

852
00:44:55,240 --> 00:44:57,120
 I want to take a square root.

853
00:44:57,120 --> 00:44:59,560
 It's this thing squared.

854
00:44:59,560 --> 00:45:01,800
 The only other ones we'll ever use here, I would--

855
00:45:01,800 --> 00:45:04,840
 and I probably can't even think of a time in this class

856
00:45:04,840 --> 00:45:08,000
 where I use a different norm.

857
00:45:08,000 --> 00:45:09,200
 Did I just never write that?

858
00:45:09,200 --> 00:45:10,160
 Is that just confusing?

859
00:45:10,160 --> 00:45:14,080
 But sometimes I would use a 1 for the L1 norm,

860
00:45:14,080 --> 00:45:17,600
 or an infinity for an infinity norm.

861
00:45:17,600 --> 00:45:18,400
 Yep.

862
00:45:18,400 --> 00:45:20,680
 But if you were to Google LP norm, for instance,

863
00:45:20,680 --> 00:45:32,680
 that would tell you the story, where p is 2.

864
00:45:32,680 --> 00:45:34,920
 OK, so the geometry of this thing

865
00:45:34,920 --> 00:45:37,280
 is the geometry of a cone.

866
00:45:37,280 --> 00:46:02,160
 So if I were to draw f of icx, f of icy, f of icz here,

867
00:46:02,160 --> 00:46:07,960
 then the elements of that three-dimensional vector

868
00:46:07,960 --> 00:46:13,000
 that satisfy this constraint live inside a cone.

869
00:46:13,000 --> 00:46:15,640
 It's like an ice cream cone to the origin.

870
00:46:15,640 --> 00:46:21,200
 So when f of z is 0, these two must be 0.

871
00:46:21,200 --> 00:46:23,080
 There's nothing below.

872
00:46:23,080 --> 00:46:24,720
 It can't be negative.

873
00:46:24,720 --> 00:46:30,360
 And as f of z gets bigger, I can have bigger resistive forces,

874
00:46:30,360 --> 00:46:31,160
 which makes sense.

875
00:46:31,160 --> 00:46:33,680
 If you push down on something and then try to slide it,

876
00:46:33,680 --> 00:46:34,520
 that's going to be--

877
00:46:34,520 --> 00:46:35,840
 it's going to be able to resist more

878
00:46:35,840 --> 00:46:38,400
 than if you are gently touching something and try to slide it.

879
00:46:38,400 --> 00:46:47,120
 It actually makes some of these statics problems

880
00:46:47,120 --> 00:46:49,680
 very geometric, actually, and dynamics problems

881
00:46:49,680 --> 00:46:50,480
 very geometric.

882
00:46:50,480 --> 00:46:59,840
 Because if you want to ask, for instance,

883
00:46:59,840 --> 00:47:04,720
 is the box going to slide or is it

884
00:47:04,720 --> 00:47:07,800
 going to stick as a function of the ramp angle,

885
00:47:07,800 --> 00:47:09,760
 then I'm going to draw it a little bigger here.

886
00:47:09,760 --> 00:47:11,920
 So I've got a ramp.

887
00:47:11,920 --> 00:47:12,720
 I've got a box.

888
00:47:12,720 --> 00:47:21,960
 I've got friction cones now, which in 2D just

889
00:47:21,960 --> 00:47:23,280
 look kind of like that, I guess.

890
00:47:23,280 --> 00:47:28,920
 And I've got a force vector coming down.

891
00:47:29,920 --> 00:47:32,240
 I'm going to use lots of colors today.

892
00:47:32,240 --> 00:47:40,760
 And I've got a force coming down.

893
00:47:40,760 --> 00:47:41,600
 That's straight down.

894
00:47:41,600 --> 00:47:47,880
 So it turns out, with our spatial algebra--

895
00:47:47,880 --> 00:47:50,080
 or classic physics, but the spatial algebra just

896
00:47:50,080 --> 00:47:54,640
 makes it neat, clear in my mind--

897
00:47:54,640 --> 00:47:56,720
 we can move these forces as if they

898
00:47:56,720 --> 00:48:00,600
 are being applied at the body location.

899
00:48:00,600 --> 00:48:03,920
 And so they'll have some interpretation like this.

900
00:48:03,920 --> 00:48:04,640
 And they'll add.

901
00:48:04,640 --> 00:48:11,440
 So the condition-- I've got to finish my punch line.

902
00:48:11,440 --> 00:48:18,000
 The condition here on whether this thing has a force that's

903
00:48:18,000 --> 00:48:21,720
 inside the friction cone that can resist motion

904
00:48:21,720 --> 00:48:23,360
 is actually the geometric condition

905
00:48:23,360 --> 00:48:26,160
 of whether the opposite force of that

906
00:48:26,160 --> 00:48:27,280
 is inside the friction cone.

907
00:48:27,280 --> 00:48:33,840
 If there is a force that could be picked out of that cone--

908
00:48:33,840 --> 00:48:36,440
 like any of these are possible admissible forces--

909
00:48:36,440 --> 00:48:39,740
 if there's one that could be picked out of that cone,

910
00:48:39,740 --> 00:48:41,080
 then there'll be an equilibrium.

911
00:48:41,080 --> 00:48:42,800
 So in this case, maybe the way I drew it,

912
00:48:42,800 --> 00:48:44,480
 it's going to just a little bit slide.

913
00:48:44,480 --> 00:48:45,680
 It's not quite enough.

914
00:48:45,680 --> 00:48:48,600
 If I made the friction coefficient bigger,

915
00:48:48,600 --> 00:48:51,560
 then I could resist that.

916
00:48:51,560 --> 00:48:55,600
 If I made the normal force bigger, I could resist that.

917
00:48:56,600 --> 00:48:58,120
 Or if I-- no, that's not true.

918
00:48:58,120 --> 00:48:59,720
 Because that would also increase this.

919
00:48:59,720 --> 00:49:02,440
 If I made this thing larger, that's why it's geometric.

920
00:49:02,440 --> 00:49:05,920
 And that's why it's beautiful is that they would go up together.

921
00:49:05,920 --> 00:49:12,360
 Or if I made the ramp smaller, then that could be inside there.

922
00:49:12,360 --> 00:49:13,760
 So it becomes very geometric.

923
00:49:13,760 --> 00:49:15,000
 Sorry, what was your question?

924
00:49:15,000 --> 00:49:20,000
 [INAUDIBLE]

925
00:49:20,000 --> 00:49:20,500
 Yep.

926
00:49:20,500 --> 00:49:23,480
 [INAUDIBLE]

927
00:49:23,760 --> 00:49:25,800
 [INAUDIBLE]

928
00:49:25,800 --> 00:49:29,840
 So oftentimes, the normal force is determined first.

929
00:49:29,840 --> 00:49:32,240
 And then that defines effectively the height of the cone.

930
00:49:32,240 --> 00:49:33,040
 Not always.

931
00:49:33,040 --> 00:49:35,400
 Typically, they're actually solved all jointly.

932
00:49:35,400 --> 00:49:37,520
 But that's maybe the easiest way to think about it,

933
00:49:37,520 --> 00:49:39,120
 is that the normal force determines

934
00:49:39,120 --> 00:49:40,640
 the horizontal forces.

935
00:49:40,640 --> 00:49:41,640
 Yeah.

936
00:49:41,640 --> 00:49:44,640
 [INAUDIBLE]

937
00:49:44,640 --> 00:49:56,040
 [INAUDIBLE]

938
00:49:56,040 --> 00:49:57,280
 So good.

939
00:49:57,280 --> 00:49:59,160
 So the laws of-- so the question is,

940
00:49:59,160 --> 00:50:01,040
 how do you actually pick one if maybe there's

941
00:50:01,040 --> 00:50:03,080
 a set of possible choices?

942
00:50:03,080 --> 00:50:06,360
 So typically, there's not a set of possible choices.

943
00:50:06,360 --> 00:50:10,920
 We have principles that tell us which one to pick.

944
00:50:10,920 --> 00:50:12,680
 There's some caveats to that.

945
00:50:12,680 --> 00:50:23,880
 But the first thing is, if the contact velocity, which

946
00:50:23,880 --> 00:50:29,840
 is the velocity at the point of contact, is 0,

947
00:50:29,840 --> 00:50:39,000
 or can be made 0, then the contact--

948
00:50:39,000 --> 00:50:46,800
 the frictional force would be whatever

949
00:50:46,800 --> 00:50:47,680
 causes the balance.

950
00:50:47,680 --> 00:51:10,080
 [WRITING ON BOARD]

951
00:51:10,080 --> 00:51:12,120
 I was thought about writing that out in symbols.

952
00:51:12,120 --> 00:51:14,120
 But I decided this one I should just write in words,

953
00:51:14,120 --> 00:51:16,660
 because I wanted to find another frame for contact velocity

954
00:51:16,660 --> 00:51:17,600
 like that.

955
00:51:17,600 --> 00:51:19,280
 But tell me if that's clear.

956
00:51:19,280 --> 00:51:22,760
 So if there's a sticking mode, where

957
00:51:22,760 --> 00:51:28,160
 if you're in sticking mode, it will choose the choice out

958
00:51:28,160 --> 00:51:33,600
 of this necessary to satisfy the equilibrium conditions.

959
00:51:33,600 --> 00:51:39,800
 If it's not 0, as soon as you're sliding at that point,

960
00:51:39,800 --> 00:51:44,360
 then we have the principle of maximal dissipation,

961
00:51:44,360 --> 00:51:46,480
 which means your contact force will be the biggest

962
00:51:46,480 --> 00:51:50,040
 force possible in the opposite direction of your movement.

963
00:52:05,680 --> 00:52:16,640
 It will always be the largest force in the cone opposite

964
00:52:16,640 --> 00:52:18,100
 to the velocity.

965
00:52:18,100 --> 00:52:19,440
 I promised to not write too low.

966
00:52:19,440 --> 00:52:31,880
 Moving up the board is kind of a cheat.

967
00:52:31,880 --> 00:52:41,080
 [WRITING ON BOARD]

968
00:52:41,080 --> 00:52:43,520
 That's the basic principle.

969
00:52:43,520 --> 00:52:48,920
 Now, Coulomb friction is not complete.

970
00:52:48,920 --> 00:52:52,080
 You can find cases where this is not enough principles

971
00:52:52,080 --> 00:52:55,400
 to fully define the forces, and you have to pick one.

972
00:52:55,400 --> 00:52:58,920
 Here's my favorite example.

973
00:52:58,920 --> 00:53:02,480
 Classical mechanics is just not good enough.

974
00:53:02,480 --> 00:53:04,900
 Thinking about things as rigid bodies is not good enough,

975
00:53:04,900 --> 00:53:05,280
 maybe I should say.

976
00:53:05,280 --> 00:53:07,480
 It's not like the physicists didn't do their job.

977
00:53:07,480 --> 00:53:11,320
 It's just that the level of modeling of rigid bodies

978
00:53:11,320 --> 00:53:14,080
 doesn't capture everything.

979
00:53:14,080 --> 00:53:17,800
 So take a four-legged table.

980
00:53:17,800 --> 00:53:19,520
 Four legs on the ground.

981
00:53:19,520 --> 00:53:24,980
 So if you balance gravity, then the sum of those four forces

982
00:53:24,980 --> 00:53:28,040
 have to be equal to the opposite of the gravity.

983
00:53:28,040 --> 00:53:29,760
 To balance torque, that tells you

984
00:53:29,760 --> 00:53:34,320
 kind of what at least three of the legs have to be doing.

985
00:53:34,320 --> 00:53:37,400
 But actually, it's ambiguous how it's

986
00:53:37,400 --> 00:53:39,560
 distributed across those four.

987
00:53:39,560 --> 00:53:41,960
 If you had three-legged table, everything's clean.

988
00:53:41,960 --> 00:53:44,980
 You have a four-legged table, then it's ambiguous.

989
00:53:44,980 --> 00:53:49,760
 The laws of minimum action and maximum dissipation

990
00:53:49,760 --> 00:53:52,600
 don't tell you how those forces are distributed,

991
00:53:52,600 --> 00:53:57,560
 which is funny, because then if you push the table,

992
00:53:57,560 --> 00:54:01,800
 that means that the frictional forces are undefined.

993
00:54:01,800 --> 00:54:04,200
 So it could go this way.

994
00:54:04,200 --> 00:54:05,680
 It could go that way.

995
00:54:05,680 --> 00:54:07,080
 It could go that way.

996
00:54:07,080 --> 00:54:08,520
 And physics just doesn't tell you.

997
00:54:08,520 --> 00:54:11,240
 Coulomb rigid body physics just doesn't tell you which one.

998
00:54:11,240 --> 00:54:18,480
 You have real tables that have real--

999
00:54:18,480 --> 00:54:22,360
 so there are one table legs a little shorter than the other,

1000
00:54:22,360 --> 00:54:24,120
 or there's microscopic.

1001
00:54:24,120 --> 00:54:25,400
 The real table doesn't do that.

1002
00:54:25,400 --> 00:54:28,440
 The real table picks one, but it's at a level of modeling

1003
00:54:28,440 --> 00:54:29,920
 that we are not capturing in this.

1004
00:54:29,920 --> 00:54:31,280
 So what does our solver do?

1005
00:54:31,280 --> 00:54:33,680
 It picks the one in the middle.

1006
00:54:33,680 --> 00:54:35,800
 Almost always, we're solving optimization problems.

1007
00:54:35,800 --> 00:54:40,880
 So kind of picking the least norm solution

1008
00:54:40,880 --> 00:54:42,560
 tends to be the same, the right thing.

1009
00:54:42,560 --> 00:54:43,060
 [INAUDIBLE]

1010
00:54:43,060 --> 00:54:54,640
 Probably.

1011
00:54:54,640 --> 00:54:57,960
 So I'll say it back to you in my words, though.

1012
00:54:57,960 --> 00:54:59,760
 I think what's going to happen is

1013
00:54:59,760 --> 00:55:02,160
 it's solving an optimization problem, typically

1014
00:55:02,160 --> 00:55:04,120
 in velocities and forces.

1015
00:55:04,120 --> 00:55:06,200
 And if there's multiple solutions,

1016
00:55:06,200 --> 00:55:08,640
 it will pick the one that makes the norm of the velocity

1017
00:55:08,640 --> 00:55:11,000
 and forces equal to 0, depending on if you're solving it

1018
00:55:11,000 --> 00:55:12,440
 in the primal or in the dual.

1019
00:55:12,440 --> 00:55:17,360
 So its interpretation probably has something like--

1020
00:55:17,360 --> 00:55:19,080
 it probably has an interpretation

1021
00:55:19,080 --> 00:55:20,760
 that you could talk out like that.

1022
00:55:20,760 --> 00:55:22,600
 But I think what's precisely happening

1023
00:55:22,600 --> 00:55:27,320
 is that in the velocity space, probably a minimum norm

1024
00:55:27,320 --> 00:55:27,820
 solution.

1025
00:55:27,820 --> 00:55:31,580
 OK.

1026
00:55:31,580 --> 00:55:33,280
 So this friction cone idea is key.

1027
00:55:33,280 --> 00:55:35,080
 We're going to use this a lot.

1028
00:55:35,080 --> 00:55:37,520
 Again, how do we pick up grasps?

1029
00:55:37,520 --> 00:55:40,120
 We're going to think about putting our friction cones

1030
00:55:40,120 --> 00:55:43,320
 to resist wrenches in the same way

1031
00:55:43,320 --> 00:55:47,280
 that there might be good places to put your friction cone,

1032
00:55:47,280 --> 00:55:50,260
 good amounts to squeeze that will change the ability

1033
00:55:50,260 --> 00:55:56,700
 to resist an adversarial wrench, like the rigid body

1034
00:55:56,700 --> 00:55:59,000
 wrench, not a monkey wrench.

1035
00:55:59,000 --> 00:55:59,500
 [INAUDIBLE]

1036
00:55:59,500 --> 00:56:09,920
 Yes.

1037
00:56:09,920 --> 00:56:12,960
 So basically, any force that's inside the friction cone

1038
00:56:12,960 --> 00:56:15,080
 is a possible force.

1039
00:56:15,080 --> 00:56:18,560
 You have additional constraints of like the normal force

1040
00:56:18,560 --> 00:56:20,640
 can only be so big, given that it's

1041
00:56:20,640 --> 00:56:22,320
 being powered by gravity here.

1042
00:56:22,320 --> 00:56:26,040
 So the magnitude of that force is determined also

1043
00:56:26,040 --> 00:56:28,400
 by the balance equations.

1044
00:56:28,400 --> 00:56:29,600
 Well, here's a good question.

1045
00:56:29,600 --> 00:56:31,640
 Test your intuition.

1046
00:56:31,640 --> 00:56:35,720
 So in this setting, I have this brick, and I have a ramp.

1047
00:56:35,720 --> 00:56:41,040
 So we said it was mg over 2 for the flat case.

1048
00:56:41,040 --> 00:56:43,520
 Is this force bigger?

1049
00:56:43,520 --> 00:56:44,320
 Are they the same?

1050
00:56:44,320 --> 00:56:45,320
 [INAUDIBLE]

1051
00:56:45,320 --> 00:56:50,640
 They're not the same.

1052
00:56:50,640 --> 00:56:53,200
 OK, we got both answers.

1053
00:56:53,200 --> 00:56:54,900
 You have to read the notes to find out.

1054
00:56:54,900 --> 00:56:55,400
 [INAUDIBLE]

1055
00:56:55,400 --> 00:57:05,720
 You don't have-- there's an asymmetry here, right?

1056
00:57:05,720 --> 00:57:07,000
 That's not pushing like this.

1057
00:57:07,000 --> 00:57:12,080
 Pretty clean in the algebra.

1058
00:57:12,080 --> 00:57:12,580
 Yes.

1059
00:57:12,580 --> 00:57:13,080
 [INAUDIBLE]

1060
00:57:13,080 --> 00:57:18,880
 Good, yeah.

1061
00:57:18,880 --> 00:57:26,200
 So I drew this in 2D, and I made it exact in this.

1062
00:57:26,200 --> 00:57:32,480
 And in 3D, it really is the shape of this ice cream cone.

1063
00:57:32,480 --> 00:57:37,080
 The square root here gives me conic sections

1064
00:57:37,080 --> 00:57:39,160
 that look like this.

1065
00:57:39,160 --> 00:57:42,680
 But oftentimes for optimization, or for faster simulation,

1066
00:57:42,680 --> 00:57:44,140
 or something like this, it actually

1067
00:57:44,140 --> 00:57:46,780
 can be useful to approximate this

1068
00:57:46,780 --> 00:57:50,280
 with a polyhedral approximation of the friction cone,

1069
00:57:50,280 --> 00:57:51,480
 where you write this as--

1070
00:57:51,480 --> 00:57:52,580
 because some of these square roots

1071
00:57:52,580 --> 00:57:53,700
 are kind of a nasty thing.

1072
00:57:53,700 --> 00:57:56,540
 So sometimes you'll use a polyhedral approximation

1073
00:57:56,540 --> 00:57:59,980
 of that friction cone.

1074
00:57:59,980 --> 00:58:04,060
 And I could say a lot more, or I don't

1075
00:58:04,060 --> 00:58:06,260
 know how to say a little more than that.

1076
00:58:06,260 --> 00:58:09,060
 But that comes up naturally in a lot of optimization

1077
00:58:09,060 --> 00:58:09,780
 formulations.

1078
00:58:09,780 --> 00:58:10,900
 This would be the--

1079
00:58:10,900 --> 00:58:14,440
 for instance, if you write a linear complementarity problem,

1080
00:58:14,440 --> 00:58:18,100
 you might have heard of linear complementarity problem, LCP,

1081
00:58:18,100 --> 00:58:20,020
 which is a way to do simulation.

1082
00:58:20,020 --> 00:58:22,060
 The fact that it's a linear complementarity problem

1083
00:58:22,060 --> 00:58:26,340
 is because we made a polyhedral approximation of the cone.

1084
00:58:26,340 --> 00:58:30,740
 If you wanted to do a full second order cone version,

1085
00:58:30,740 --> 00:58:32,940
 then it would be a nonlinear complementarity problem,

1086
00:58:32,940 --> 00:58:35,420
 which is much harder to solve.

1087
00:58:35,420 --> 00:58:37,580
 But that's just bonus.

1088
00:58:37,580 --> 00:58:40,060
 Yeah?

1089
00:58:40,060 --> 00:58:43,020
 [INAUDIBLE]

1090
00:58:43,020 --> 00:58:56,100
 So this is a gross summary of the surface materials.

1091
00:58:56,100 --> 00:58:57,980
 The only way that the surface materials come in

1092
00:58:57,980 --> 00:58:58,980
 is by picking mu.

1093
00:58:58,980 --> 00:59:03,980
 And so you need to go to a deeper level of detail

1094
00:59:03,980 --> 00:59:09,340
 to capture-- to get over some of the abnormalities of the model,

1095
00:59:09,340 --> 00:59:11,940
 the insufficiencies of the model.

1096
00:59:11,940 --> 00:59:12,860
 It's also interesting.

1097
00:59:12,860 --> 00:59:18,260
 So if you look in the robot description files,

1098
00:59:18,260 --> 00:59:20,100
 for instance, you can pick--

1099
00:59:20,100 --> 00:59:24,220
 you set a mu for each body.

1100
00:59:24,220 --> 00:59:26,380
 But that's weird, because mu is really

1101
00:59:26,380 --> 00:59:29,220
 a property of the pair of materials, right?

1102
00:59:29,220 --> 00:59:32,020
 Rubber and glass, or whatever, these things

1103
00:59:32,020 --> 00:59:33,500
 are pairs of materials.

1104
00:59:33,500 --> 00:59:35,740
 So there's always a little bit of a hack in the middle,

1105
00:59:35,740 --> 00:59:39,860
 where you say, well, I've got a mu of 10 and a mu of 0.3.

1106
00:59:39,860 --> 00:59:42,480
 And I'm going to use a parallel resistor theorem or something

1107
00:59:42,480 --> 00:59:44,660
 to put them together, just because it

1108
00:59:44,660 --> 00:59:48,260
 would be a pain to label every pair of materials.

1109
00:59:48,260 --> 00:59:49,420
 But that's what's happening.

1110
00:59:49,420 --> 00:59:51,060
 So you typically put one per body,

1111
00:59:51,060 --> 00:59:53,500
 even though that doesn't really make sense.

1112
00:59:53,500 --> 00:59:56,100
 And there's also-- you'll see sometimes

1113
00:59:56,100 --> 00:59:58,700
 mu static and mu dynamic, right?

1114
00:59:58,700 --> 01:00:04,020
 So you can have static friction or dynamic friction.

1115
01:00:04,020 --> 01:00:17,460
 It's kind of interesting, but actually, the friction

1116
01:00:17,460 --> 01:00:21,380
 you get once you start sliding tends to be lower

1117
01:00:21,380 --> 01:00:24,020
 than the sticking friction.

1118
01:00:24,020 --> 01:00:34,740
 So if you make a plot of contact velocity and the total force

1119
01:00:34,740 --> 01:00:38,180
 you'd get out, let's say the normal force--

1120
01:00:38,180 --> 01:00:50,380
 let's see, the friction, F tangent normalized by F normal,

1121
01:00:50,380 --> 01:00:55,020
 something like this, then it would--

1122
01:00:55,020 --> 01:00:56,900
 you'll see plots that look like this.

1123
01:00:56,900 --> 01:01:04,820
 You'll have a mu static, where if the velocity is 0,

1124
01:01:04,820 --> 01:01:08,020
 you can get any force in that range.

1125
01:01:08,020 --> 01:01:12,140
 But as soon as you start sliding,

1126
01:01:12,140 --> 01:01:16,300
 then you'll have a mu dynamic that's actually lower.

1127
01:01:16,300 --> 01:01:19,380
 Dynamic.

1128
01:01:19,380 --> 01:01:20,260
 That's lower.

1129
01:01:20,260 --> 01:01:22,780
 And that's a better model of what's

1130
01:01:22,780 --> 01:01:25,660
 happening in this Coulomb friction.

1131
01:01:25,660 --> 01:01:29,300
 And then you'll see people make--

1132
01:01:29,300 --> 01:01:32,700
 they make stiff approximations of that sometimes.

1133
01:01:32,700 --> 01:01:39,900
 So you'll see models that look like this, for instance.

1134
01:01:39,900 --> 01:01:43,460
 They're smooth but stiff approximations of that.

1135
01:01:47,140 --> 01:01:50,660
 But oftentimes, for first order, just make them equal.

1136
01:01:50,660 --> 01:01:53,660
 You're fine.

1137
01:01:53,660 --> 01:01:54,160
 Yes?

1138
01:01:54,160 --> 01:01:55,140
 [INAUDIBLE]

1139
01:01:55,140 --> 01:02:02,200
 Yeah.

1140
01:02:02,200 --> 01:02:04,140
 [INAUDIBLE]

1141
01:02:04,140 --> 01:02:12,900
 Because you can satisfy all the equations by putting, say,

1142
01:02:12,900 --> 01:02:15,740
 all the force on three legs, and the last leg

1143
01:02:15,740 --> 01:02:17,380
 doesn't need to do anything.

1144
01:02:17,380 --> 01:02:19,580
 Or you could put it on the opposite three legs,

1145
01:02:19,580 --> 01:02:24,220
 and the first leg doesn't need to do anything.

1146
01:02:24,220 --> 01:02:27,060
 And then that's just normal force, let's say.

1147
01:02:27,060 --> 01:02:31,620
 You could satisfy all the torque and z balance

1148
01:02:31,620 --> 01:02:35,140
 by putting on any three legs, for instance.

1149
01:02:35,140 --> 01:02:39,540
 So now when you push, you'll get different forces

1150
01:02:39,540 --> 01:02:41,940
 depending on which of those choices you made,

1151
01:02:41,940 --> 01:02:45,260
 which will possibly cause a moment or not.

1152
01:02:45,260 --> 01:02:47,500
 And they're all admissible by the Coulomb model.

1153
01:02:47,500 --> 01:02:50,500
 [INAUDIBLE]

1154
01:02:50,500 --> 01:02:51,260
 That's the extreme.

1155
01:02:51,260 --> 01:02:52,740
 Of course, it would be--

1156
01:02:52,740 --> 01:02:55,460
 you could have any linear combinations of those.

1157
01:02:55,460 --> 01:02:57,540
 That's just-- I'm trying to make an extreme case.

1158
01:02:57,540 --> 01:02:58,040
 But you--

1159
01:02:58,040 --> 01:03:00,620
 [INAUDIBLE]

1160
01:03:00,620 --> 01:03:01,940
 That is one solution.

1161
01:03:01,940 --> 01:03:03,740
 But all the equations are also satisfied.

1162
01:03:03,740 --> 01:03:05,260
 Everything that we said that defines physics

1163
01:03:05,260 --> 01:03:08,580
 are also satisfied if you put all the weight on three legs,

1164
01:03:08,580 --> 01:03:10,260
 any three legs.

1165
01:03:10,260 --> 01:03:12,260
 And therefore, when you push, you

1166
01:03:12,260 --> 01:03:13,640
 might get no friction on one leg,

1167
01:03:13,640 --> 01:03:15,100
 or you might get all the friction,

1168
01:03:15,100 --> 01:03:19,980
 you know, which could cause rotation or not.

1169
01:03:19,980 --> 01:03:20,820
 Kind of annoying.

1170
01:03:20,820 --> 01:03:25,740
 There's other things, too, that if I was a better chalkboard

1171
01:03:25,740 --> 01:03:28,900
 lecturer, I should learn to do this, the Pan-Levay paradox.

1172
01:03:28,900 --> 01:03:29,400
 So--

1173
01:03:29,400 --> 01:03:32,380
 [INAUDIBLE]

1174
01:03:32,380 --> 01:03:33,340
 Oh, I can cheat?

1175
01:03:33,340 --> 01:03:35,820
 I can buy something on Amazon to make me a Pan-Levay paradox

1176
01:03:35,820 --> 01:03:36,500
 guy?

1177
01:03:36,500 --> 01:03:37,780
 Yeah.

1178
01:03:37,780 --> 01:03:39,100
 Yeah, I don't know how to do it.

1179
01:03:39,100 --> 01:03:40,660
 I won't try.

1180
01:03:40,660 --> 01:03:43,300
 Probably doing it above my head wasn't the best place to start.

1181
01:03:43,300 --> 01:03:54,140
 So no one liked the fact that I chose the contact points

1182
01:03:54,140 --> 01:03:55,100
 to be at the corners.

1183
01:03:55,100 --> 01:03:57,300
 Let's dig into that a little bit.

1184
01:03:57,300 --> 01:03:58,540
 I'm glad you didn't like that.

1185
01:03:58,540 --> 01:03:59,820
 I'm glad you called me on that.

1186
01:03:59,820 --> 01:04:04,300
 But simulators do that.

1187
01:04:04,300 --> 01:04:06,700
 And simulators have to make a choice.

1188
01:04:06,700 --> 01:04:10,420
 And actually, it's kind of a gross part of simulation.

1189
01:04:10,420 --> 01:04:15,780
 It tends to be a thing that leads to sadness.

1190
01:04:15,780 --> 01:04:18,220
 Like when robots pick up objects, and then they go,

1191
01:04:18,220 --> 01:04:20,260
 phew, you know, it tends to be--

1192
01:04:20,260 --> 01:04:22,100
 there's a couple of things that can go wrong.

1193
01:04:22,100 --> 01:04:23,700
 But this is one of them, a big one,

1194
01:04:23,700 --> 01:04:26,300
 which is that you have to come up with an algorithm that,

1195
01:04:26,300 --> 01:04:26,940
 given--

1196
01:04:26,940 --> 01:04:29,300
 well, so here's the first thing, I guess, to say is,

1197
01:04:29,300 --> 01:04:30,420
 like, penetration happens.

1198
01:04:30,420 --> 01:04:34,540
 That's the word everybody uses.

1199
01:04:34,540 --> 01:04:35,580
 I sounded out of context.

1200
01:04:35,580 --> 01:04:38,060
 But there's-- you will--

1201
01:04:38,060 --> 01:04:40,420
 so if you're simulating real systems

1202
01:04:40,420 --> 01:04:44,140
 with numerical algorithms, bodies will overlap.

1203
01:04:44,140 --> 01:04:47,860
 That's called penetration in the computational geometry world.

1204
01:04:47,860 --> 01:04:49,260
 And that happens.

1205
01:04:49,260 --> 01:04:51,940
 And you have to deal with it.

1206
01:04:51,940 --> 01:04:56,020
 So if I have a box on a table, then it's sort of easy.

1207
01:04:56,020 --> 01:04:57,980
 I could pick almost any two points

1208
01:04:57,980 --> 01:04:59,820
 and find its force balance.

1209
01:04:59,820 --> 01:05:03,420
 Of course, I need one to be on at least the right side

1210
01:05:03,420 --> 01:05:06,020
 of the downward force and the left.

1211
01:05:06,020 --> 01:05:09,220
 But what if I'm on the edge of a table now?

1212
01:05:09,220 --> 01:05:11,780
 So if I start putting my box kind

1213
01:05:11,780 --> 01:05:16,500
 of on the edge of the table, now it's

1214
01:05:16,500 --> 01:05:18,260
 getting a little bit more subtle.

1215
01:05:18,260 --> 01:05:21,580
 The position of this box relative to this box

1216
01:05:21,580 --> 01:05:24,740
 means that probably I need to pick a point right here.

1217
01:05:24,740 --> 01:05:27,300
 I could pick something else on this side.

1218
01:05:27,300 --> 01:05:30,940
 What happens if you're a little bit in the corner?

1219
01:05:30,940 --> 01:05:36,260
 Because your simulator took a numerical approximation

1220
01:05:36,260 --> 01:05:36,940
 of the dynamics.

1221
01:05:36,940 --> 01:05:38,580
 And so you're like, I'll exaggerate it.

1222
01:05:38,580 --> 01:05:40,820
 Hopefully it doesn't get this bad in simulation.

1223
01:05:40,820 --> 01:05:43,420
 But you're like this.

1224
01:05:43,420 --> 01:05:47,020
 So where do you put the contact forces?

1225
01:05:47,020 --> 01:05:49,100
 Simulators have to sort of pick.

1226
01:05:49,100 --> 01:05:50,180
 I'm going to put one here.

1227
01:05:50,180 --> 01:05:51,620
 I'm going to put one here.

1228
01:05:51,620 --> 01:05:54,460
 And it's not that hard for any one image

1229
01:05:54,460 --> 01:05:56,820
 to pick a few contact points.

1230
01:05:56,820 --> 01:06:00,340
 Even in 3D, you get much more complicated geometries

1231
01:06:00,340 --> 01:06:01,260
 intersecting and stuff.

1232
01:06:01,260 --> 01:06:03,300
 But you always look at pairs of bodies.

1233
01:06:03,300 --> 01:06:06,740
 And you could come up with some rubric to pick those points.

1234
01:06:06,740 --> 01:06:08,740
 Here's the hard part.

1235
01:06:08,740 --> 01:06:13,780
 While you're simulating, as the bodies move,

1236
01:06:13,780 --> 01:06:16,940
 you'd really like those points to move smoothly.

1237
01:06:16,940 --> 01:06:19,940
 And it's really hard to find one algorithm that always

1238
01:06:19,940 --> 01:06:22,260
 finds a consistent set of points,

1239
01:06:22,260 --> 01:06:24,020
 even as the bodies kind of are moving around

1240
01:06:24,020 --> 01:06:26,020
 relative to each other.

1241
01:06:26,020 --> 01:06:29,100
 And if those points jump discontinuously,

1242
01:06:29,100 --> 01:06:31,620
 then your forces can jump discontinuously.

1243
01:06:31,620 --> 01:06:33,620
 And that's when things go surprise.

1244
01:06:33,620 --> 01:06:37,420
 So I actually made some slides about that.

1245
01:06:37,420 --> 01:06:40,700
 I meant to show this before when you asked.

1246
01:06:40,700 --> 01:06:44,220
 So how do you define the normal vector first in the broader

1247
01:06:44,220 --> 01:06:46,660
 case, even at corners?

1248
01:06:46,660 --> 01:06:50,920
 It turns out that you're always thinking about a normal vector

1249
01:06:50,920 --> 01:06:53,260
 between two frames.

1250
01:06:53,260 --> 01:06:55,900
 And so you take the sign distance

1251
01:06:55,900 --> 01:06:58,460
 between two bodies, which is well-defined.

1252
01:06:58,460 --> 01:07:01,420
 We often call it phi.

1253
01:07:01,420 --> 01:07:04,140
 So these two bodies, that would be the sign distance.

1254
01:07:04,140 --> 01:07:07,220
 And the derivative, the gradient of the sign distance,

1255
01:07:07,220 --> 01:07:11,900
 is a nice working definition of the normal vector

1256
01:07:11,900 --> 01:07:14,780
 that works even in corners.

1257
01:07:14,780 --> 01:07:18,460
 In general, you just need to be a sub-gradient of that.

1258
01:07:28,140 --> 01:07:31,260
 It's the vector that goes between the two points.

1259
01:07:31,260 --> 01:07:32,700
 The distance is a scalar.

1260
01:07:32,700 --> 01:07:38,260
 The gradient of that is a vector that moves along there.

1261
01:07:38,260 --> 01:07:40,780
 And the interpretation of it being a gradient

1262
01:07:40,780 --> 01:07:46,500
 also works if you're working directly in Q, not just in 3D.

1263
01:07:46,500 --> 01:07:48,540
 So it has a generalized coordinates.

1264
01:07:48,540 --> 01:07:51,460
 And then for the tangential coordinates,

1265
01:07:51,460 --> 01:07:57,140
 you can just pick any basis on the orthogonal plane.

1266
01:07:57,140 --> 01:08:00,540
 And sometimes you pick many of them for the polyhedral

1267
01:08:00,540 --> 01:08:01,260
 approximation.

1268
01:08:01,260 --> 01:08:02,780
 This would be like the polyhedral approximation

1269
01:08:02,780 --> 01:08:03,860
 does something like that.

1270
01:08:03,860 --> 01:08:08,100
 So when this is going on--

1271
01:08:08,100 --> 01:08:10,820
 I already showed you that, but just think about this.

1272
01:08:10,820 --> 01:08:13,180
 So if we use that as a heuristic--

1273
01:08:13,180 --> 01:08:17,700
 so it works beautifully when things are out of contact

1274
01:08:17,700 --> 01:08:20,140
 or when they just come into contact.

1275
01:08:20,140 --> 01:08:23,220
 But everything-- and I could put up a different proposal.

1276
01:08:23,220 --> 01:08:25,020
 And everything breaks when you start getting

1277
01:08:25,020 --> 01:08:28,540
 into the deep penetration.

1278
01:08:28,540 --> 01:08:31,860
 And here's a picture to make that--

1279
01:08:31,860 --> 01:08:36,140
 so if you pick the point of maximal penetration,

1280
01:08:36,140 --> 01:08:38,020
 the deepest point in the body, which

1281
01:08:38,020 --> 01:08:40,740
 is a hard computational geometry thing to do,

1282
01:08:40,740 --> 01:08:42,820
 but if you could do that nicely, and then you

1283
01:08:42,820 --> 01:08:46,100
 took the gradient of that as your definition of the normal,

1284
01:08:46,100 --> 01:08:49,580
 then that's going to push you like this.

1285
01:08:49,580 --> 01:08:52,060
 That would be my instantaneous choice of a point.

1286
01:08:52,060 --> 01:08:54,020
 Let's just say I'm going to pick only one point,

1287
01:08:54,020 --> 01:08:54,940
 just to keep it simple.

1288
01:08:54,940 --> 01:08:58,020
 One point, I'm going to try to push in that direction.

1289
01:08:58,020 --> 01:09:00,740
 I'm going to call that my normal.

1290
01:09:00,740 --> 01:09:01,740
 But here's what happens.

1291
01:09:01,740 --> 01:09:06,700
 If you watch that as the bodies overlap,

1292
01:09:06,700 --> 01:09:13,180
 your maximal point gets closer to the other face.

1293
01:09:13,180 --> 01:09:17,140
 So the closest face that would allow you to exit

1294
01:09:17,140 --> 01:09:19,900
 changes discontinuously.

1295
01:09:19,900 --> 01:09:21,540
 That make sense?

1296
01:09:21,540 --> 01:09:23,140
 You were closer to the side.

1297
01:09:23,140 --> 01:09:24,760
 You're closer to the side, so you should definitely

1298
01:09:24,760 --> 01:09:26,700
 put your normal force pushing out like that.

1299
01:09:26,700 --> 01:09:29,020
 And then all of a sudden, when you go past the diagonal,

1300
01:09:29,020 --> 01:09:31,460
 you're closer to the top.

1301
01:09:31,460 --> 01:09:32,340
 Boom.

1302
01:09:32,340 --> 01:09:35,980
 Context simulation has a big discontinuity,

1303
01:09:35,980 --> 01:09:36,780
 and things get bad.

1304
01:09:36,780 --> 01:09:43,740
 So it looks like the gradient of that looks like this,

1305
01:09:43,740 --> 01:09:45,220
 as soon as you cross that boundary.

1306
01:09:45,220 --> 01:09:47,660
 And if you cross it just a little bit,

1307
01:09:47,660 --> 01:09:48,780
 maybe you don't notice.

1308
01:09:48,780 --> 01:09:52,780
 You cross it a lot, you notice.

1309
01:09:52,780 --> 01:09:56,720
 So when people are doing point contact, one thing

1310
01:09:56,720 --> 01:09:58,640
 I've learned, actually, over the years,

1311
01:09:58,640 --> 01:10:00,840
 to just-- I actually make my contact--

1312
01:10:00,840 --> 01:10:03,140
 you'll notice some of the contact geometry that we use,

1313
01:10:03,140 --> 01:10:04,280
 if you look closely at it.

1314
01:10:04,280 --> 01:10:06,520
 I actually take a box, and I'll just put it--

1315
01:10:06,520 --> 01:10:08,520
 we'll make it a little bit smaller on the inside,

1316
01:10:08,520 --> 01:10:09,200
 call that a box.

1317
01:10:09,200 --> 01:10:11,640
 And then I'll put some extra spheres of radius

1318
01:10:11,640 --> 01:10:13,760
 almost 0 in the corner.

1319
01:10:13,760 --> 01:10:19,200
 Just to say, always put contact points here, please.

1320
01:10:19,200 --> 01:10:21,680
 And then do whatever you want with the rest of it.

1321
01:10:21,680 --> 01:10:23,260
 But at least put contact points here,

1322
01:10:23,260 --> 01:10:24,920
 and that makes things a lot more stable,

1323
01:10:24,920 --> 01:10:26,640
 if you're using point contact simulation.

1324
01:10:26,640 --> 01:10:33,780
 One of the things that was kind of an innovation in Drake,

1325
01:10:33,780 --> 01:10:37,060
 in the contact engine, was this model

1326
01:10:37,060 --> 01:10:39,180
 called hydroelastic contact, which

1327
01:10:39,180 --> 01:10:42,100
 is the obvious thing, in some sense.

1328
01:10:42,100 --> 01:10:43,300
 But it's the thing that--

1329
01:10:43,300 --> 01:10:45,020
 making it computationally efficient enough

1330
01:10:45,020 --> 01:10:46,580
 to run all the time at real rates

1331
01:10:46,580 --> 01:10:48,620
 is what was maybe a bigger deal.

1332
01:10:48,620 --> 01:10:53,640
 So now, instead of taking just a point contact or a few points,

1333
01:10:53,640 --> 01:10:58,300
 we take a surface integral across the surface.

1334
01:10:58,300 --> 01:11:01,300
 And even when you're in penetration,

1335
01:11:01,300 --> 01:11:03,220
 we define a pressure field, which

1336
01:11:03,220 --> 01:11:06,020
 defines a surface of--

1337
01:11:06,020 --> 01:11:08,700
 the surface of overlap.

1338
01:11:08,700 --> 01:11:10,140
 And we integrate numerically.

1339
01:11:10,140 --> 01:11:12,180
 We make a new mesh on the fly, and we

1340
01:11:12,180 --> 01:11:17,900
 integrate across that to get nice, smooth contact forces.

1341
01:11:17,900 --> 01:11:19,860
 And that's all happening on every time step,

1342
01:11:19,860 --> 01:11:21,900
 on every geometry pair, and everything like this.

1343
01:11:21,900 --> 01:11:24,020
 So you get these beautiful simulations

1344
01:11:24,020 --> 01:11:26,580
 with nice, smooth red contact vectors.

1345
01:11:26,580 --> 01:11:31,220
 And like the-- yeah, I'll show you a couple of examples.

1346
01:11:31,220 --> 01:11:33,820
 If you do this now, then these are the contact forces

1347
01:11:33,820 --> 01:11:39,860
 that you get out with that extra computational geometry work.

1348
01:11:39,860 --> 01:11:41,180
 And things suddenly get smooth.

1349
01:11:41,180 --> 01:11:43,060
 And that made a big difference in our ability

1350
01:11:43,060 --> 01:11:46,300
 to do sim-to-real transfer in Drake.

1351
01:11:46,300 --> 01:11:49,180
 [AUDIO OUT]

1352
01:11:49,180 --> 01:11:54,140
 So it's actually a lot of work under there

1353
01:11:54,140 --> 01:11:56,420
 to make that all work, because all the possible geometry

1354
01:11:56,420 --> 01:11:59,900
 pairs, whether it's a generic mesh or a sphere or whatever,

1355
01:11:59,900 --> 01:12:03,020
 they all have these relatively complicated intersections.

1356
01:12:03,020 --> 01:12:05,980
 And the shape of that intersection

1357
01:12:05,980 --> 01:12:09,500
 depends on the relative stiffness of the bodies.

1358
01:12:09,500 --> 01:12:11,860
 So there's a lot of things going on behind there.

1359
01:12:11,860 --> 01:12:14,500
 And that's when you get these animations that we like,

1360
01:12:14,500 --> 01:12:17,860
 which is like the dexterous hand picking up the mug.

1361
01:12:17,860 --> 01:12:20,460
 And you'll see the entire contact patch

1362
01:12:20,460 --> 01:12:22,500
 that we render sometimes.

1363
01:12:22,500 --> 01:12:24,060
 And normally, you wouldn't see that.

1364
01:12:24,060 --> 01:12:26,260
 That's extra math that we're doing behind the scenes

1365
01:12:26,260 --> 01:12:27,760
 to make that really stable and good.

1366
01:12:27,760 --> 01:12:38,020
 This is all-- you can turn all this on in MeshCat.

1367
01:12:38,020 --> 01:12:39,700
 In fact, it'll happen automatically.

1368
01:12:39,700 --> 01:12:42,020
 So you'll see any level of these rendering,

1369
01:12:42,020 --> 01:12:44,020
 that's the entire pressure field.

1370
01:12:44,020 --> 01:12:46,500
 When you see red arrows, you're seeing hydroelastic.

1371
01:12:46,500 --> 01:12:47,980
 When you see green arrows, you're

1372
01:12:47,980 --> 01:12:50,260
 seeing the old point contact model.

1373
01:12:50,260 --> 01:12:53,420
 I'm porting the note-- oops, that was funny.

1374
01:12:53,420 --> 01:12:55,580
 I'm actually porting-- so hydroelastic

1375
01:12:55,580 --> 01:12:57,420
 was a little too slow last year.

1376
01:12:57,420 --> 01:12:59,220
 And it's fast enough this year.

1377
01:12:59,220 --> 01:13:01,660
 So I'm like one--

1378
01:13:01,660 --> 01:13:03,820
 not even a whole lecture ahead of you--

1379
01:13:03,820 --> 01:13:06,220
 porting the note to use hydroelastic for everything.

1380
01:13:06,220 --> 01:13:08,520
 So you're going to see a few green vectors.

1381
01:13:08,520 --> 01:13:10,480
 And then if you download it again the next day,

1382
01:13:10,480 --> 01:13:11,060
 it'll be gone.

1383
01:13:11,060 --> 01:13:12,460
 It'll be red.

1384
01:13:12,460 --> 01:13:16,140
 But hopefully, you won't have to experience green vectors.

1385
01:13:16,140 --> 01:13:22,660
 You can watch even the interaction of the bowl

1386
01:13:22,660 --> 01:13:23,940
 with the table, for instance.

1387
01:13:23,940 --> 01:13:25,900
 You get contact patches that are right

1388
01:13:25,900 --> 01:13:27,540
 around the rim of the bowl.

1389
01:13:27,540 --> 01:13:29,620
 It's a lot of geometry that's happening.

1390
01:13:29,620 --> 01:13:39,140
 And one of the things that we are proud of--

1391
01:13:39,140 --> 01:13:40,380
 this is another cool example.

1392
01:13:40,380 --> 01:13:41,900
 You can actually mate LEGOs.

1393
01:13:41,900 --> 01:13:44,900
 And it's just the physics of it will hold it together.

1394
01:13:44,900 --> 01:13:47,340
 And the contact forces that come out

1395
01:13:47,340 --> 01:13:50,140
 are just rock steady and stuff.

1396
01:13:50,140 --> 01:13:52,900
 So most simulators don't have contact forces visualization

1397
01:13:52,900 --> 01:13:57,220
 on by default, because they're crazy.

1398
01:13:57,220 --> 01:13:59,260
 And ours was for a long time, too.

1399
01:13:59,260 --> 01:14:01,900
 But we have ours enabled by default, just so you're like,

1400
01:14:01,900 --> 01:14:04,060
 hey, you guys should really see these contact forces.

1401
01:14:04,060 --> 01:14:04,560
 Yeah?

1402
01:14:04,560 --> 01:14:14,400
 [INAUDIBLE]

1403
01:14:14,400 --> 01:14:16,360
 So there's two different questions there.

1404
01:14:16,360 --> 01:14:17,800
 Can you control the stiffness and damping?

1405
01:14:17,800 --> 01:14:18,460
 Then absolutely.

1406
01:14:18,460 --> 01:14:20,260
 There's a dissipation quantity that they all

1407
01:14:20,260 --> 01:14:22,440
 have proper mechanical units.

1408
01:14:22,440 --> 01:14:26,440
 There's a stiffness you can set for each body.

1409
01:14:26,440 --> 01:14:28,660
 And then when they overlap, there's

1410
01:14:28,660 --> 01:14:34,240
 a pressure field equation that defines the surface of balance.

1411
01:14:34,240 --> 01:14:36,800
 How does it correspond to real?

1412
01:14:36,800 --> 01:14:38,800
 I think it's intended, absolutely,

1413
01:14:38,800 --> 01:14:40,080
 to correspond to real.

1414
01:14:40,080 --> 01:14:44,600
 But there's typically some sim to real gap still.

1415
01:14:44,600 --> 01:14:47,160
 Like if you took exactly the material properties of rubber,

1416
01:14:47,160 --> 01:14:50,920
 you might get something that's a little bit--

1417
01:14:50,920 --> 01:14:52,240
 I would hope it's perfect.

1418
01:14:52,240 --> 01:14:53,720
 But that's the kind of place where

1419
01:14:53,720 --> 01:14:55,800
 you might expect to cheat the numbers a little bit

1420
01:14:55,800 --> 01:14:58,360
 to get a better match.

1421
01:14:58,360 --> 01:14:58,860
 Yeah?

1422
01:14:58,860 --> 01:15:03,840
 [INAUDIBLE]

1423
01:15:03,840 --> 01:15:05,140
 You have to say that one again.

1424
01:15:05,140 --> 01:15:05,640
 Sorry.

1425
01:15:05,640 --> 01:15:23,040
 [INAUDIBLE]

1426
01:15:23,040 --> 01:15:26,680
 OK, so the comment was that you have some anisotropic,

1427
01:15:26,680 --> 01:15:28,260
 or some mud, or something like that.

1428
01:15:28,260 --> 01:15:30,220
 Might be you have different friction properties

1429
01:15:30,220 --> 01:15:31,080
 at different points.

1430
01:15:31,080 --> 01:15:32,600
 So there's no sampling that happens here.

1431
01:15:32,600 --> 01:15:34,600
 It actually is doing the computational geometry

1432
01:15:34,600 --> 01:15:36,680
 of triangular meshes, and computing those things,

1433
01:15:36,680 --> 01:15:39,000
 and taking integrals cleanly.

1434
01:15:39,000 --> 01:15:41,460
 But if you had a surface that had different friction

1435
01:15:41,460 --> 01:15:44,200
 properties, I think in practice what I would do today,

1436
01:15:44,200 --> 01:15:47,880
 I would just drop a handful of different collision geometries

1437
01:15:47,880 --> 01:15:50,740
 down there that had different coefficients and stuff

1438
01:15:50,740 --> 01:15:54,240
 like this, and approximate it that way.

1439
01:15:54,240 --> 01:15:56,080
 We could, of course, generalize it to that.

1440
01:15:56,080 --> 01:15:58,920
 But we haven't put that level of generalization in there.

1441
01:15:58,920 --> 01:16:08,280
 [INAUDIBLE]

1442
01:16:08,280 --> 01:16:11,600
 I think intellectually there's no sampling.

1443
01:16:11,600 --> 01:16:13,320
 Of course, you solve for vertices first,

1444
01:16:13,320 --> 01:16:15,820
 and then you use that to compute the triangulation and stuff

1445
01:16:15,820 --> 01:16:16,360
 like this.

1446
01:16:16,360 --> 01:16:18,520
 But I think the mathematical model that

1447
01:16:18,520 --> 01:16:22,160
 is being achieved by that code is

1448
01:16:22,160 --> 01:16:26,560
 that you're taking an integral over the surface.

1449
01:16:26,560 --> 01:16:27,060
 Yes?

1450
01:16:27,060 --> 01:16:40,500
 [INAUDIBLE]

1451
01:16:40,500 --> 01:16:41,000
 Yep.

1452
01:16:41,000 --> 01:16:43,980
 [INAUDIBLE]

1453
01:16:43,980 --> 01:16:45,860
 Yes, so the question is, could you ever

1454
01:16:45,860 --> 01:16:48,060
 have sort of pass-through effects?

1455
01:16:48,060 --> 01:16:52,780
 So OK, so Drake supports-- and so this is all rigid body.

1456
01:16:52,780 --> 01:16:53,620
 And this is suitable.

1457
01:16:53,620 --> 01:16:55,900
 These are actually compliant rigid body,

1458
01:16:55,900 --> 01:16:58,220
 because you're allowed to penetrate a bit.

1459
01:16:58,220 --> 01:17:01,460
 So it's suitable for objects that mostly keep their shape,

1460
01:17:01,460 --> 01:17:02,860
 but could be squishy.

1461
01:17:02,860 --> 01:17:06,900
 But if you had a really plush toy or something like that,

1462
01:17:06,900 --> 01:17:08,620
 we actually have a soft body simulation

1463
01:17:08,620 --> 01:17:12,500
 for that, which does finite element method.

1464
01:17:12,500 --> 01:17:15,820
 And that could be suitable for things like cloth or something

1465
01:17:15,820 --> 01:17:16,340
 like that.

1466
01:17:16,340 --> 01:17:19,580
 But we actually don't advertise cloth support yet,

1467
01:17:19,580 --> 01:17:22,500
 because exactly because of these pass-through events.

1468
01:17:22,500 --> 01:17:23,700
 And we know how to--

1469
01:17:23,700 --> 01:17:25,700
 the simulation community knows how to do that.

1470
01:17:25,700 --> 01:17:28,740
 But you just have to do extra logic to prevent pass-through.

1471
01:17:28,740 --> 01:17:31,300
 Because if your normal suddenly pops out the other side,

1472
01:17:31,300 --> 01:17:34,860
 then that can be bad.

1473
01:17:34,860 --> 01:17:37,780
 So this one, I don't think it would be devastating.

1474
01:17:37,780 --> 01:17:41,900
 If you had enough mass of your pepper still on the first side,

1475
01:17:41,900 --> 01:17:44,700
 then it would probably be almost unnoticeable.

1476
01:17:44,700 --> 01:17:46,380
 So we don't feel like a sucking sound

1477
01:17:46,380 --> 01:17:48,700
 when you happen to hit the table or anything like that.

1478
01:17:48,700 --> 01:17:52,100
 But you could have more dramatic events

1479
01:17:52,100 --> 01:17:53,620
 where you actually just pass through.

1480
01:17:53,620 --> 01:17:55,700
 So if your simulation time step was too big,

1481
01:17:55,700 --> 01:17:59,740
 you would just enter-- or your stiffness was too low.

1482
01:17:59,740 --> 01:18:00,240
 Yes?

1483
01:18:00,240 --> 01:18:01,140
 [INAUDIBLE]

1484
01:18:01,140 --> 01:18:10,580
 We summarize the integral of the pressure field in a wrench.

1485
01:18:10,580 --> 01:18:11,780
 That's one of the reasons.

1486
01:18:11,780 --> 01:18:13,140
 So that's kind of why I showed this partly,

1487
01:18:13,140 --> 01:18:15,620
 is that it's beautiful to say that the integral over that,

1488
01:18:15,620 --> 01:18:18,860
 it gives you a total wrench.

1489
01:18:18,860 --> 01:18:19,360
 Good.

1490
01:18:19,360 --> 01:18:21,300
 I'm going to stop there.

1491
01:18:21,300 --> 01:18:22,640
 Think about your project groups.

1492
01:18:22,640 --> 01:18:25,000
 think about your projects, ask us questions,

1493
01:18:25,000 --> 01:18:26,360
 and we'll see you Thursday.

